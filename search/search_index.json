{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":""},{"location":"#welcome","title":"Welcome","text":"<p>Welcome to the IBM watsonx Assistant for Z for Technical Sales Level 4 Lab Guide (lab guide). The lab guide is part of the IBM watsonx Assistant for Z for Technical Sales Level 4 learning plan for IBM and Business Partner Technical Sales and related badge. The learning plan is intended to teach technical sellers and Business Partners how to conduct a proof of experience (PoX) for a client. </p> <p>In a fast-paced world, things change</p> <p>The products and services may appear differently than what is shown in the lab guide. This can occur if the product or service is updated with a new version.</p> <p>Responses generated by IBM watsonx Assistant for Z are likely to change over time. The responses you see when you run the queries in this section may differ from the screen images captured in the lab guide. </p> <p>This lab guide covers the setup, configuration, and usage of watsonx Assistant for Z. This lab guide uses the IBM watsonx Assistant for Z Velocity collection and the three Velocity Pilot lab environments in IBM Technology Zone (ITZ). </p> <p>The lab guide also enables dedicated lab environments for customized client PoXs and demonstrations. If you are preparing for an actual pilot engagement, refer to the Pilot Scoping Guide for watsonx Assistant for Z for additional information.</p> <p>Using the lab guide, you will:</p> <ul> <li>Provision the lab environments</li> <li>Create an assistant and configuring conversational search</li> <li>Configure assistant settings</li> <li>Test conversational search</li> <li>Deploy a dedicated instance of OpenSearch for client document ingestion (Optional)</li> <li>Import skills for z/OS automations</li> <li>Connect apps to assistants</li> <li>Creat assistant actions</li> <li>Creat skill flows </li> <li>Create custom-built actions</li> <li>Import pre-packaged z/OS skills</li> <li>Publish and deploy an assistant</li> </ul> <p>Not all capabilities of the offering are covered in the lab guide.</p> <p>This lab guide covers many features and capabilities of IBM Watson Assistant for Z, but not all. Some uncovered capabilities may be available in ITZ environments, while others may not, such as using skills for OMEGAMON.</p> <p></p>"},{"location":"#support","title":"Support","text":"<p>Think something is down? Check the applicable status pages for any known issues such as a site or service not being available:</p> <ul> <li>IBM Technology Zone status</li> </ul> <p>For issues with provisioning the ITZ environment for this lab (for example, a failed reservation request due to insufficient quota capacity), open a ticket with ITZ support:</p> <ul> <li> <p>Web:  IBM Technology Zone ticket system</p> </li> <li> <p>Email: techzone.help@ibm.com</p> </li> </ul> <p>For issues related to specific steps found in the demonstration guide after the ITZ environment is provisioned, contact the authors:</p> <ul> <li> <p>Slack: </p> </li> <li> <p>#watsonx-assistant-z-technical - IBM only</p> </li> <li> <p>#wxo-practitioners - IBM only - for questions that are related to the software as a service (SaaS) instance of watsonx Orchestrate</p> </li> <li> <p>Email: andrewj@us.ibm.com and maxwell.g.weiss@ibm.com</p> </li> </ul> <p>Business Partners, use the IBM Training live Chat Support service or other support methods that are found on the IBM Training portal here.</p>"},{"location":"#using-the-demonstration-guide","title":"Using the demonstration guide","text":"<p>Use these helpful tips to take full advantage of the IBM watsonx Assistant for Z for Technical Sales Level 4 Lab Guide.</p> Printing the demonstration guide <p>Printed or saved copies can be out of date</p> <p>The IBM watsonx Assistant for Z for Technical Sales Level 4 Lab Guide changes regularly to match the IBM watsonx Assistant for Z offering and associated ITZ environment. Printed or saved copies of the demonstration guide can become out-of-date quickly and result in failed steps. </p> <p>A ready-to-print PDF version of the IBM watsonx Assistant for Z for Technical Sales Level 4 Lab Guide is here. </p> <p></p> Create a reference card for storing user IDs, passwords, and links for your ITZ environments. <p>You will be creating and using multiple user IDs, passwords, links, and other content throughout the lab. To save time, it is strongly suggested you create a simple text file to store this data so it is readily available and you can easily cut and paste the data when needed.  Here is a template to get you started.</p> <pre><code>watsonx Assistant for Z - Level 4 shortcuts:\n\nwatsonx Orchestrate\n\n    IBM Cloud account: \n    IBM Cloud resources: https://cloud.ibm.com/resources\n    watsonx Orchestrate URL: \n\n    Assistant name: \n    Assistant description: \n    Assistant icon: https://ibm.github.io/SalesEnablement-L4-watsonx-AssistantForZ/Setup/_attachments/Zeeves75x75.png\n\nOpenShift\n\n    Cluster Admin Username: kubeadmin\n    Cluster Admin Password: \n    OCP Console: \n\n    IBM Cloud container entitlement key: \n\n    OS-secret password: \n    Client ingestion AuthKey: \n    Wrapper password: \n    Cluster domain for routes: \n    Ingestion route (append /v1/query): \n\nAnsible\n\n    Ansible Automation Platform URL: \n    AAP User Name: admin\n    AAP password:\n\n    Wazi Password:\n    Wazi URL: \n\nLive Embed\n\n    inetegrationID:\n    region:\n    serviceInstanceID:\n</code></pre> Viewing images <p>Images in the demonstration guide can be enlarged by clicking on the image. Press the Esc key or click the X to dismiss the enlarged image.</p> <p></p> Image highlighting <p>In some images, the following styles of highlighting are used:</p> <ul> <li> <p>Solid highlight box: This style of box highlights where to click, enter, or select an item. </p> </li> <li> <p>Dash highlight box: This style of box highlights one of two things: the path to follow to get to a specific location in the user interface, or areas to explore on your own. </p> </li> </ul> Copying commands and prompts <p>Copying and pasting commands and prompts from this demonstration guide is easy and can eliminate typographical errors.</p> <p>Click the highlighted copy icon and then use your operating system's paste function. For example, Ctrl+V, or right-click and select <code>Paste</code>. </p> Acronyms and terminology <p>IBM employees and the tech industry in general, tend to use acronyms. In the demonstration guide, most acronyms will appear with a dashed underline. Hover over the acronym to learn its meaning. A question mark () icon will first appear and after a second the tool tip with the acronym's meaning is displayed. Try it here: LPAR. </p> <p></p> The Lab Guide table of contents <p>This Demonstration Guide uses a responsive browser-based interface to ensure pages are usable on various devices with different screen sizes. The Demonstration Guide table of contents may be displayed as highlighted in the green dashed box in this image:</p> <p></p> <p>However, if the browser window is sized smaller, the table of contents can be accessed by clicking the main menu icon ():</p> <p></p> <p>Click the main menu icon () to expand the table of contents.</p> <p>Continue to the Reserve the IBM Technology Zone environments section to begin the journey to obtain the IBM watsonx Assistant for Z Technical Sales Advanced badge.</p>"},{"location":"NextSteps/","title":"Next steps","text":""},{"location":"NextSteps/#next-steps","title":"Next steps","text":"<p>This lab guide covered many of the IBM watsonx Assistant for Z capabilities and provides a good base for conducting basic client pilots. However, there is still more to learn about IBM watsonx Assistant for Z. Updates and new releases of the offering and the underlying offerings like watsonx Orchestrate rollout on a regular basis. Be sure to stay informed by bookmarking and regularly reviewing the offering landing page and the product documentation. </p>"},{"location":"NextSteps/#additional-resources","title":"Additional resources","text":"<p>The following resources are also available; however, not all are available to business partners:</p> <p>Slack channel: #watsonx-assistant-z-technical Wiki: Development team's wiki Box: wxa4z Q&amp;A - questions with high-quality responses.</p>"},{"location":"NextSteps/#earn-the-badge","title":"Earn the badge","text":"<p>Finally, remember to earn the IBM watsonx Assistant for Z Technical Sales Advanced you must complete the IBM watsonx Assistant for Z for Technical Sales Level 4 learning plan.</p> <p>IBM technical sellers: Your Learning learning plan</p> <p>Business Partners IBM Training learning plan</p>"},{"location":"TechZoneEnvironment/","title":"Reserve the IBM Technology Zone environment","text":""},{"location":"TechZoneEnvironment/#ibm-technology-zone-environment","title":"IBM Technology Zone environment","text":"<p>To enable sellers to learn how to deliver client pilots of IBM watsonx Assistant for Z, three environments are available in IBM Technology Zone (ITZ). The environments are part of the watsonx Assistant for Z Velocity lab collection and can be found in the IBM watsonx Assistant for Z collection.</p> <ul> <li> <p>Watsonx Assistant for Z lab \u2013 watsonx Orchestrate: provides a dedicated environment on IBM Cloud where you can create and configure the assistant, set up conversational search, import skills, and configure actions.</p> </li> <li> <p>Ansible Automation Platform (AAP) &amp; z/OS: provides a pre-configured instance of AAP and Wazi z/OS. This environment includes Ansible playbooks, which you can import as skills within WatsonX Orchestrate and connect to your assistant. Preinstalled templates for various use cases are also available (covered in later sections). Learn more about AAP here. Learn more about Wazi, here.</p> </li> <li> <p>Single Node OpenShift with NFS storage: provisions a single-node Red Hat OpenShift cluster (SNO) on IBM Cloud. This cluster installs a dedicated instance of OpenSearch for Watson Assistant for Z, enabling ingestion of client-supplied documents.- </p> </li> </ul> <p>All activities in this lab guide are required.</p> <p>To earn the IBM Watsonx Assistant for Z Technical Sales Advanced badge and complete the Level 4 learning plan, you must provision all three ITZ environments and finish every section in the lab guide. Disregard any statements in the ITZ collection that suggest optional environments or tasks.</p> <p>Follow the instructions to create new reservation requests, extend the reservations, and access the ITZ demonstration environments. Provisioning the SNO environment in ITZ can take several hours, while the other two environments typically provisioning in under 30 minutes.</p>"},{"location":"TechZoneEnvironment/#create-a-reservation-request","title":"Create a reservation request","text":"<ol> <li> <p>Click each of the links that follow to open a browser to the reservation pages of the IBM watsonx Assistant for Z ITZ environments.</p> <p>You may be asked to authenticate to IBM Technology Zone.</p> <p>The steps to authenticate to ITZ are not detailed here as they may vary between users.</p> <p>Watsonx Assistant for Z lab \u2013 watsonx Orchestrate - reservation page</p> <p>Ansible Automation Platform (AAP) &amp; z/OS - reservation page</p> <p>Single Node OpenShift with NFS storage - reservation page</p> </li> </ol> <p>The next two steps are for one of the three environments. Repeat for all three environments.</p> <p>Follow the steps to create a reservation in ITZ for all three environments.</p> <ol> <li> <p>Select Reserve now.</p> <p>The Reserve now option creates a reservation for immediate use. Optionally, schedule the reservation for a later date, for example, when you are at your client's office to start a pilot.</p> <p></p> </li> <li> <p>Complete the reservation request form and then click Submit.</p> <p>The first two reservations are similar to the first image and have fields a-e that need to be completed.</p> <p>a. Name: specify a name for the reservation (optional).</p> <p>b. Purpose: select the Education purpose tile.</p> <p>For client pilots...</p> <p>For client pilots, set the Purpose field in the reservation to Pilot and provide an opportunity number to receive a longer reservation.</p> <p>c. Purpose description: enter a description, for example: Level 4 education.</p> <p>d. Preferred geography: select the region nearest to your physical location for improved performance and reduced network latency.</p> <p>e. End date and time: the initial maximum will be set to two days after the current date and time. Instructions follow to extend the reservation end date.</p> <p>f. Accept the IBM Technology Zone's terms and conditions and security policies.</p> <p>g. Click Submit.</p> <p></p> <p>In addition to the preceding fields, the reservation for the Single Node OpenShift with NFS storage has these additional fields:</p> <p>h. OCP/Kubernetes cluster network: leave the default setting of 10.128.0.0/14.</p> <p>i. Enable FIPS security: leave the default setting of No. Learn more about the Federal Information Processing Standards (FIPS) here.</p> <p>j. Master single node flavor: select 16 vCPU x 64 GB - 300 GB ephemeral storage.</p> <p>k. OpenShift version: select 4.14.</p> <p>l. OCP/Kubernetes service network: leave the default setting of 172.30.0.0/16.</p> <p>m. Accept the IBM Technology Zone's terms and conditions and security policies.</p> <p>n. Click Submit.</p> <p></p> </li> </ol> <p>During the provisioning process, multiple emails are sent to you from ITZ as the provisioning process runs. One email states the reservation is provisioning and the other email states that the environment is Ready.</p> <p>In rare cases, the provisioning process may fail. If you receive an email stating the reservation failed, try again by repeating Steps 1-3 for the environment that failed to provision. In addition, review the Troubleshooting section that follows. If issues continue, open an ITZ support ticket by using the methods that are mentioned in the Support section.</p>"},{"location":"TechZoneEnvironment/#extend-the-reservation","title":"Extend the reservation","text":"<p>When the reservations are in the Ready state, you can extend each reservation beyond its original end date. The duration of the extension will vary by reservation. </p> <ol> <li> <p>In the IBM Technology Zone portal, expand My TechZone and select My Reservations.</p> <p></p> </li> <li> <p>Click the overflow icon () on the reservation tile and select Extend.</p> <p></p> </li> </ol> <ol> <li> <p>Click the Select a date option, (a) specify the date to extend to, and then (b) click Extend.</p> <p></p> </li> </ol> <p>If you anticipate needing more time, repeat Steps 5-6 to extend the reservation to the maximum allowed. Repeat these steps for the other two reservations.</p>"},{"location":"TechZoneEnvironment/#join-the-itz-ibm-cloud-account","title":"Join the ITZ IBM Cloud account","text":"<p>Both the watsonx Assistant for Z lab \u2013 watsonx Orchestrate and the Ansible Automation Platform (AAP) &amp; z/OS environments add you to an IBM Cloud account while your reservation is active. During the provisioning process of these ITZ environments, you receive two emails from IBM Cloud. </p> <p>You only need to accept the invitation to the watsonx Assistant for Z lab \u2013 watsonx Orchestrate environment.</p> <ol> <li> <p>Open the email from IBM Cloud and click the Join now links.</p> <p></p> </li> <li> <p>In the Join IBM Cloud browser window that opens, select the I accept the product Terms and Conditions of the registration form, and then click Join Account.</p> <p></p> </li> </ol> <p>After joining the account, verify that the account appears in your available account list in the IBM Cloud portal.</p> <ol> <li> <p>Click the following link to open a browser to the IBM Cloud portal.</p> <p>IBM Cloud portal</p> </li> <li> <p>Follow the directions to complete the authentication to IBM Cloud using the same email address you used to login to ITZ. The login steps vary depending on any two-factor authentication methods enabled. </p> <p></p> </li> <li> <p>Click the account menu and verify access to the IBM Cloud account listed in your ITZ reservation.</p> <p>The account may change within ITZ.</p> <p>Over time, the account may change for the environments. The account names should align with the account named in the invitation email you received. </p> <p></p> Does your IBM Cloud portal view look different? <p>If your IBM Cloud portal looks different from the images above, it could be because the IBM Cloud portal has gone through a design change, or your browser window is set to smaller size. Instead of the current selected account appearing in the top menu, you may see this change account icon: . Click this icon to view the list of accounts you can access.</p> <p></p> </li> </ol>"},{"location":"TechZoneEnvironment/#accessing-the-environments","title":"Accessing the environments","text":"<p>Each reservation provides access to its respective environment. Details for accessing each environment are provided in the Pilot setup sections that follow in the lab guide.</p> <p>After all three reservations are in the Ready state and you accept the invitations to the IBM Cloud accounts, proceed to the next section to complete the pilot setup.</p>"},{"location":"TechZoneEnvironment/#troubleshooting","title":"Troubleshooting","text":"If your reservation for the Single Node OpenShift environment fails... <p>If your reservation for the Single Node OpenShift environment fails, try selecting one of the eu-gb region options as the Preferred Geography. </p>"},{"location":"nav/","title":"Nav","text":"<ul> <li>Welcome</li> <li>Reserve the IBM Technology Zone environment</li> <li>Pilot setup<ul> <li>Creating an assistant and configuring conversational search</li> <li>Ingesting client documents<ul> <li>Creating a stand-alone OpenSearch instance for document ingestion</li> <li>Installing and using zassist to ingest client documents</li> </ul> </li> <li>Adding skills to the assistant<ul> <li>Getting started with skills and actions</li> <li>Explore Ansible Automation Platform</li> <li>Importing skills from Ansible Automation Platform</li> <li>Connecting the app to your assistant</li> <li>Creating actions for your assistant</li> <li>Creating skill flows for your assistant</li> <li>Creating custom-built actions</li> <li>Importing pre-packaged z/OS skills</li> </ul> </li> <li>Publishing and deploying your assistant</li> <li>Adding other integrations</li> </ul> </li> <li>Next steps</li> </ul>"},{"location":"Setup/connectingApp/","title":"Connecting the app to your assistant","text":""},{"location":"Setup/connectingApp/#connecting-skills-to-your-assistant","title":"Connecting skills to your assistant","text":"<p>Once you have a subset of skills published, the application you created can be connected to your assistant. </p> <ol> <li> <p>Expand the main menu and select Skill sets.</p> <p></p> </li> <li> <p>Click the Team Skills drop-down and select the Draft of your assistant.</p> <p></p> </li> <li> <p>Click the Connections tab.</p> <p></p> </li> <li> <p>Click the Search () icon.</p> <p></p> </li> <li> <p>Search for the application name you specified in the previous section.</p> <p></p> </li> <li> <p>Click the ellipses () and click Connect app.</p> <p></p> </li> <li> <p>On the Connect to Ansible Controller Skills form, keep the defaults and click Connect app.</p> <p></p> </li> <li> <p>Enter the username (a) and password (b) using the username (<code>admin</code>) and password for your IBM Technology Zone (ITZ) watsonx Assistant for Z Pilot - AAP &amp; z/OS reservation, and then click Connect app (c).</p> <p></p> </li> </ol> <p>The application is now connected to the draft version of your assistant.</p> <p></p> <p>Continue to the next section to create actions for your assistant.</p>"},{"location":"Setup/creatingActions/","title":"Creating actions for your assistant","text":""},{"location":"Setup/creatingActions/#creating-actions-for-your-assistant","title":"Creating actions for your assistant","text":"<p>Once the skills in your application are connected to your assistant, you\u2019re ready to begin creating actions tied to those skills. Learn more about building actions here</p>"},{"location":"Setup/creatingActions/#configure-the-number-of-input-fields","title":"Configure the number of input fields","text":"<p>Before configuring actions, it\u2019s important to modify a setting within watsonx Orchestrate that allows triggered skills to display as forms (versus conversational skills). </p> <ol> <li> <p>Click your (a) profile icon and then click (b) Settings</p> <p>Learn more about configuring input fields here.</p> <p></p> </li> <li> <p>Click the Skill configurations tab.</p> <p></p> </li> <li> <p>Enter 0 for the Number of form fields.</p> <p></p> </li> </ol>"},{"location":"Setup/creatingActions/#create-actions","title":"Create actions","text":"<ol> <li> <p>Click the main menu and select AI assistant builder.</p> <p></p> </li> <li> <p>Hover over the Home icon () and click Actions.</p> <p></p> </li> <li> <p>Click Create action.</p> <p></p> </li> <li> <p>Click the Skill-based action tile.</p> <p></p> </li> <li> <p>Select the z/OS Gather Facts tile and click Next.</p> <p>Note, it may take a minute for the page to display the action tiles. The date shown in the z/OS Gather Facts tile reflects when you added the skill to your application.</p> <p></p> </li> <li> <p>On the New action dialog, (a) enter a prompt a user of the assistant might use to initiate the action and then (b) click Save.</p> <p>Be careful with the sample phrases you specify.</p> <p>During the development of the lab guide, it was discovered that some sample phrases with a <code>/</code> character can cause issues with the actions. Avoid using z/OS in the your sample phrases. This issue has been reported to the offering team.</p> <p>Sample prompts:</p> <pre><code>Get zOS facts\n</code></pre> <pre><code>Gather zOS facts\n</code></pre> <p></p> </li> <li> <p>Add any (a) additional prompts and then (b) click the save ().</p> <p></p> </li> <li> <p>Click Preview.</p> <p></p> </li> <li> <p>Enter one of the prompts you specified in step 9 or 10.</p> <p>Prompt: </p><pre><code>Get zOS facts\n</code></pre> <p></p> </li> <li> <p>Review the returned results and record the job number.</p> <p>In the execution of this skill-based action, the skill executed properly and the output is the job id. </p> <p>If an error is generated or the action is not performed and only search results are returned, review the Troubleshooting section below.</p> <p></p> </li> </ol>"},{"location":"Setup/creatingActions/#verify-the-job-in-the-ansible-automation-platform-console","title":"Verify the job in the Ansible Automation Platform console","text":"<p>Return to the Ansible Automation Platform (AAP) console and review the job information.</p> <ol> <li> <p>Click Jobs and then click the job number recorded in the previous step for the z/OS Gather Facts skill.</p> <p></p> </li> <li> <p>Review both the Details and Output for the z/OS Gather Facts job.</p> <p>Recall, that in the assistant, the contents shown in the Output of the Ansible job were not displayed. </p> <p></p> </li> </ol> <p>IBM watsonx Assistant for Z provides utility skills to retrieve the job output. It is also possible to create a skill flow that executes the z/OS Gather Facts skill followed by the Retrieve job output utility skill in sequence; passing the job id from the first skill to the second, in order to view the output within the assistant. Creating a skill flow is covered in the next section.</p>"},{"location":"Setup/creatingActions/#troubleshooting","title":"Troubleshooting","text":"Skill returns \"Sorry, we're having issues generating a response\" or the action is not performed and only search results are returned. <p>This error appears to be an intermittent issue when a skill is first added. To resolve, add the skill to your personal skills catalog using the steps that follow. If you encounter the issue, try the steps that follow:</p> <ol> <li> <p>Expand the main menu and select Chat.</p> <p></p> </li> <li> <p>Click Add skills from the catalog.</p> <p></p> </li> <li> <p>Search for the skill app you created earlier and click the tile for your app.</p> <p></p> </li> <li> <p>Click Add skill for all the skills you want to add.</p> <p></p> </li> <li> <p>Click Connect app.</p> <p></p> </li> <li> <p>Enter the (a) username and (b) password using the username (admin) and password for your IBM Technology Zone (ITZ) watsonx Assistant for Z Pilot - AAP &amp; z/OS reservation (AAP User Password (Use SSH key to login, only use password for UI)), and then click Connect app.</p> <p> </p> </li> <li> <p>Expand the main menu and select Chat.</p> <p> </p> </li> <li> <p>Try one of the prompts you created for your skill.</p> <p>Prompt: </p><pre><code>Gather zOS facts\n</code></pre> <p> </p> </li> </ol> <p>You should now be able to run the skill through the assistant preview.</p>"},{"location":"Setup/creatingAssistant-configuringConvoSearch/","title":"Creating an assistant and configuring conversational search","text":""},{"location":"Setup/creatingAssistant-configuringConvoSearch/#creating-an-assistant-and-configuring-conversational-search","title":"Creating an assistant and configuring conversational search","text":"<p>Watsonx Orchestrate enables you to create and configure an assistant with conversational search capabilities. Configure your assistant to use conversational search by leveraging a hosted OpenSearch instance. The pre-configured instance of watsonx Orchestrate in IBM Technology Zone (ITZ) boasts over 220 knowledge sources and supports Retrieval Augmented Generation (RAG). The large language model (LLM) providing conversational AI augments this knowledge based on IBM Z documentation, generating IBM Z context-aware responses to queries with content-grounded knowledge.</p> <p>Below is a high-level, logical architecture of the environment you will deploy in this section.</p> <p></p>"},{"location":"Setup/creatingAssistant-configuringConvoSearch/#access-the-itz-ibm-cloud-account-for-the-watsonx-assistant-for-z-pilot-environment","title":"Access the ITZ IBM Cloud account for the watsonx Assistant for Z Pilot environment","text":"<ol> <li> <p>In the IBM Technology Zone portal, expand My TechZone and select My Reservations, or click the following link.</p> <p>ITZ My reservations</p> <p></p> </li> <li> <p>Click the watsonx Assistant for Z Pilot - watsonx Orchestrate tile.</p> <p></p> </li> <li> <p>Record the ITZ IBM Cloud account name associated with the reservation.</p> <p>Did you read the tip on the welcome page about creating a reference card? Check it out here.</p> <p></p> </li> <li> <p>Click the IBM Cloud Login link.</p> <p></p> <p>Steps to authenticate to IBM Cloud are not illustrated here.</p> <p>You may need to authenticate to IBM Cloud after clicking the link. These steps are not shown here as they may vary by individual.</p> </li> <li> <p>Verify that the current IBM Cloud account is the same as the account name recorded in step 3. If the account is not the same, switch to the proper account.</p> <p>Note: The formatting of the name can appear differently than what is shown in the ITZ reservation.</p> <p></p> <p>If the proper account is not listed, click the account drop down and select the proper account. </p> <p>Note: If your browser window is narrow, the account drop down can be depicted with the Switch Account icon ().</p> <p></p> </li> </ol>"},{"location":"Setup/creatingAssistant-configuringConvoSearch/#create-your-assistant","title":"Create your Assistant","text":"<ol> <li> <p>Click the Resources icon ().</p> <p></p> </li> <li> <p>Expand the AI / Machine Learning section and click the watsonx Orchestrate instance listed (the instance name is different than shown in the following image).</p> <p></p> </li> <li> <p>Click Launch watsonx Orchestrate.</p> <p></p> </li> <li> <p>Click the AI assistant builder tile to start creating a new assistant.</p> <p></p> </li> <li> <p>Enter a name and optional description for your assistant and click Next.</p> <p></p> </li> <li> <p>Complete the Personalize your assistant form and click Next.</p> <p>Explore the personalization options. In creating an assistant for a client pilot, consider specifying attributes that align with the client's business.</p> <p>a. Select Web.</p> <p>b. Select the industry of your choice.</p> <p>c. Select the role of your choice.</p> <p>d. Select the need of your choice.</p> <p></p> </li> <li> <p>Complete the Customize your chat UI form and click Next.</p> <p>Explore the customization options. When creating an assistant for a client pilot, consider specifying attributes that align with the client (for example, colors and logos).</p> <p></p> </li> <li> <p>Preview your assistant and then click Create.</p> <p></p> <p>The assistant is now created.</p> <p></p> </li> </ol> <p></p>"},{"location":"Setup/creatingAssistant-configuringConvoSearch/#configure-conversational-search","title":"Configure conversational search","text":"<p>In the next steps you will be to configure conversational search for your assistant that uses a hosted instance of OpenSearch.</p> <ol> <li> <p>Click Generative AI menu item () in the left navigation.</p> <p></p> </li> <li> <p>Select the base large language model (LLM) settings.</p> <p>If available, set the LLM model to granite-13b-chat-v2.</p> <p>Notice their are several LLM models available. The current recommendation is for pilots, to use the granite-13b-chat-v2 model as it provides the best results in recent testing. However, this model has been deprecated as of 2024-11-04 and will may not be available after 2025-01-19. Note: screen captures that follow show the granite-3-8b-instruct LLM as being selected.</p> <p></p> </li> <li> <p>Click Set up your Search Integration.</p> <p>By default, conversational search is not enabled when an assistant is created. Conversational search takes priority over general-purpose answering if both are enabled. Learn more about conversational search in watsonx here.</p> <p></p> </li> <li> <p>Click Custom service.</p> <p></p> </li> <li> <p>Complete the Custom service (a-e) form and then click Next (f).</p> <p>a. Select By providing credentials.</p> <p>b. Enter the following value in the URL field (use the copy icon to avoid typographical errors). This is the URL for the a shared OpenSearch instance. In later sections you will created and customize a dedicated instance. </p><pre><code>https://wxa4z-opensearch-wrapper-wxa4z-demo-v2-1-0.wxo4z-opc-opensearch-clus-47e063e6a3ad1f71bf2e58f91c3b4c2e-0000.us-south.containers.appdomain.cloud/v1/query\n</code></pre> <p>c. Select Basic authentication in the Choose an authentication type drop-down list.</p> <p>d. Enter <code>admin</code> in the Username field.</p> <p>e. Enter <code>secureP@ssw0rd!</code> in the Password field.</p> <pre><code>secureP@ssw0rd!\n</code></pre> <p></p> </li> <li> <p>Enable conversational search and then click Save.</p> <p></p> </li> <li> <p>Update the conversational search custom service settings based on your requirements.</p> <p>Note: The Settings page is divided into two sections in the following images to enhance the visibility of the screen captures. </p> <p>Learn more about these custom service settings here.</p> <p>The following settings are proven to work well. You can experiment with these settings to see how they affect queries for your client's pilot.</p> <p>a. Enable Conversational search.</p> <p>b. Select Single turn. Multi-turn conversation (by selecting Entire conversation) is supported by the offering, but has not been fully included in the lab guide. See the callout in the Testing conversational search section below.</p> <p>c. Specify the text that appears to instruct the user to expand the list of citations in the assistant (except web chat client).</p> <p>d. Select Lowest for the retrieval confidence threshold setting. This setting checks the confidence of the retrieved citations before a response is generated.</p> <p>e. Select Verbose for the generated response length. This setting affects the average response length. Depending on user input, variations from the selected length can occur.</p> <p>f. Select Lowest for the response confidence threshold. This setting checks the confidence of the generated citations after the response is generated.</p> <p></p> <p>g. Keep the default setting of All for the listing of citations.</p> <p>h. Keep the Default filter field empty.</p> <p>i. The Metadata field provides a way to adjust your assistant\u2019s behavior during conversational search for your OpenSearch instance. This option is explored in detail in the Installing and using zassist to ingest client documents. Leave the field empty for now.</p> <p>j. The Search display text options specify the default text displayed when no results are found or when connectivity issues to the backend search service occur. You can keep the defaults or customize the service.</p> <p></p> </li> <li> <p>Click Save (a) and then click Close (b).</p> <p></p> </li> </ol>"},{"location":"Setup/creatingAssistant-configuringConvoSearch/#complete-the-configuration","title":"Complete the configuration","text":"<p>After you save and close the Conversational search configuration page, a few more configurations are needed to get the best experience from your conversational chat. Details on these settings are available here.</p> <ol> <li> <p>Hover over the Generative AI icon () in the left navigation and click Actions.</p> <p></p> </li> <li> <p>Click Set by assistant under the All items menu.</p> <p></p> </li> <li> <p>Click No matches.</p> <p></p> </li> <li> <p>Click Step 1 under Conversation steps.</p> <p></p> </li> <li> <p>Select without conditions  (a) in the Is taken drop-down menu and then click Clear conditions (b).</p> <p>Note: the Is taken value does not change from with conditions after selecting without conditions.</p> <p></p> </li> <li> <p>Delete the default text in the Assistant says entry field.</p> <p></p> </li> <li> <p>Expand the And then drop-down menu and select Search for the answer.</p> <p></p> </li> <li> <p>Click Edit settings.</p> <p></p> </li> <li> <p>Click After generation.</p> <p></p> </li> <li> <p>Select End the action after this step and then click Apply.</p> <p></p> </li> <li> <p>Click Save ().</p> <p></p> </li> <li> <p>Select Step 2 (No matches count) under Conversation steps and click delete ().</p> <p></p> </li> <li> <p>Click Delete in the confirmation dialog to delete Conversation step 2.</p> <p></p> </li> <li> <p>Click Close (the x icon) the Editor window.</p> <p></p> </li> <li> <p>Click Fallback in the Actions table.</p> <p></p> </li> <li> <p>Delete all of the Conversation steps.</p> <p>Note: The following image is edited. Only five steps are shown, but all six need to be deleted. You need to select each step individually. Click delete () and confirm the deletion.</p> <p></p> </li> <li> <p>Verify that all Conversation steps are deleted and then click the x to close the Editor window.</p> <p></p> </li> <li> <p>Click the Global settings ().</p> <p></p> </li> <li> <p>Click No matches under the Conversation routing tab.</p> <p></p> </li> <li> <p>Move the slider to More often (or select More often in the drop-down).</p> <p>The setting helps ensure that actions are triggered less often unless the user\u2019s query specifically matches the action\u2019s input.</p> <p></p> </li> <li> <p>Click Autocorrection.</p> <p></p> </li> <li> <p>Click the autocorrection toggle to turn the feature Off.</p> <p></p> </li> <li> <p>Click Save (a) and then Close (b).</p> <p></p> </li> <li> <p>Hover over the Home () and click Environments.</p> <p></p> </li> <li> <p>Click Web chat.</p> <p></p> </li> <li> <p>On the Style tab, click the Streaming toggle to enable streaming.</p> <p></p> </li> <li> <p>Click the Home screen tab.</p> <p></p> </li> <li> <p>Customize the Home screen by setting a custom Greeting message and deleting the default Conversation starters. Optionally, adjust the Background style.</p> <p></p> </li> <li> <p>Click Suggestions.</p> <p></p> </li> <li> <p>Click the Suggestions toggle to turn this feature Off.</p> <p></p> </li> <li> <p>Click (a) Save and exit and then click (b) Close.</p> <p></p> </li> </ol>"},{"location":"Setup/creatingAssistant-configuringConvoSearch/#configure-the-base-large-language-model","title":"Configure the base large language model","text":"<p>After the preceding steps are completed, there are enhancements you can make to configure how the large language model (LLM) responds to your queries including adding prompt instructions and configuring the LLM\u2019s answer behavior. These options can be summarized here.</p> <ol> <li> <p>Hover over the Home () and click Generative AI.</p> <p></p> </li> <li> <p>Click Add instructions.</p> <p></p> </li> <li> <p>Enter a prompt instruction.</p> <p>Your assistant's LLM gives refined responses by following the prompt's instructions, which clarify how to achieve the end-goal of an action.</p> <p>Enter prompt instructions in the field. The maximum number of characters you can enter in the prompt instruction field is 1,000. </p> <p>The following is an example prompt instruction that works well. Experiment with different prompt instructions.</p> <pre><code>You are a subject matter expert on mainframe systems. Please respond to all prompts with truth and accuracy. Keep all answers short and concise, unless requested to provide details.\n</code></pre> <p>Note: When the instructions are typed in, they are automatically saved and the LLM is immediately trained on them.</p> <p></p> </li> <li> <p>Toggle General-purpose answering to Off and then click Save ().</p> <p>The ability exists to configure the answering behavior of your assistant to provide responses that are based on the preinstalled content or general content.</p> <p>On the Generative AI page (under Prompt Instructions), you see the Answer behavior section. After you configure Conversational search, you see that it is enabled (toggled on) with the search integration added.</p> <p>If you enable both general-purpose answering as well as conversational search, the conversational search answering takes precedence over General-purpose answering. </p> <p>Recommendation: For purposes of retrieving Z-specific answers and responses, it is recommended that you turn off general-purpose answering and leave only conversational search turned on.</p> <p></p> </li> </ol>"},{"location":"Setup/creatingAssistant-configuringConvoSearch/#testing-conversational-search","title":"Testing conversational search","text":"<p>Now you can begin issuing queries to test the assistant's responses. For more detailed responses, try appending \"Please provide a detailed response.\" to the end of your question.</p> <p>Important: Modify settings iteratively based on your assessment of response quality. Review and change them at any time. For example, add extra prompt instructions, change response verbosity, and modify OpenSearch indexes.</p> <ol> <li> <p>Hover over the Home () and click Preview.</p> <p></p> </li> <li> <p>Experiment with different prompts and validate that the answers are reasonable and related to IBM Z.</p> <p>Other prompts and responses follow. </p> <p>Note: The responses that you receive can vary from the ones shown.</p> <p>Prompt:</p> <pre><code>What is z/OS continuous delivery?\n</code></pre> <p>Example output:</p> <p></p> <p>Prompt: </p> <pre><code>What is the APF list in z/OS? Provide a detailed explanation?\n</code></pre> <p>Example output:</p> <p></p> <p>Prompt:</p> <pre><code>Why is Db2 different than other database systems?\n</code></pre> <p>Example output:</p> <p></p> <p>Prompt:</p> <pre><code>What happens during an IPL on IBM Z?\n</code></pre> <p>Example output:</p> <p></p> <p>Experiment with multi-turn (entire conversation) contextual awareness.</p> <p>In the December 2024 release of IBM watsonx Assistant for Z support for multi-turn contextual awareness was added. This capability enables the assistant to use an entire session history for retrieving search results and generating answers. This handles context-dependent questions well but may over-rely on past topics, even if the user has moved on.</p> <p>Experiment with this setting by changing your custom service contextual awareness setting from Single turn to Entire conversation.</p> <p></p> <p>Once enabled, try sequential prompts like:</p> <pre><code>What are some features of z/OS?\n</code></pre> <pre><code>Give me an itemized list?\n</code></pre> <pre><code>Tell me more about item 3.\n</code></pre> </li> </ol> <p>You have a working assistant that uses IBM Watson Assistant for Z. Explore different prompt instructions and settings. If you encounter issues, refer to the Troubleshooting section that follows for resolution.</p> <p>Continue to the Creating a stand-alone OpenSearch instance for document ingestion to learn how to configure a dedicated OpenSearch instance for ingesting client-specific documentation into the RAG model.</p>"},{"location":"Setup/creatingAssistant-configuringConvoSearch/#troubleshooting","title":"Troubleshooting","text":"<p>The following are issues that you may encounter. If the provided resolutions do not work, contact support by using the methods that are mentioned in the Support section.</p> Assistant responds to all prompts with, \"I might have information related to your query to share, but am unable to connect to my knowledge base at the moment\" <p>This Assistant is unable to connect to the custom service URL specified. This could be a network issue, the service may be down, the service may be restarting, or the service is no longer running at that URL.</p> <p>Before reaching out to Support, try the following:</p> <ul> <li> <p>Wait a few minutes and try again. It may be the service was in the process of restarting.</p> </li> <li> <p>If you printed this demonstration guide or saved a copy, verify you are using the most current version of the lab guide and the correct service URL (https://wxa4z-opensearch-wrapper-wxa4z-demo-v2-1-0.wxo4z-opc-opensearch-clus-47e063e6a3ad1f71bf2e58f91c3b4c2e-0000.us-south.containers.appdomain.cloud/v1/query). The URL may have changed since you saved or printed the lab guide.</p> </li> </ul>"},{"location":"Setup/creatingCustomActions/","title":"Creating custom-built actions","text":""},{"location":"Setup/creatingCustomActions/#creating-custom-built-actions","title":"Creating custom-built actions","text":"<p>To this point, you have learned how to:</p> <ul> <li> <p>import skills into watsonx Orchestrate</p> </li> <li> <p>add applications with those skills to your assistant</p> </li> <li> <p>create skill-based actions for your assistant</p> </li> <li> <p>combine skills in a skill flow</p> </li> </ul> <p>There is also the ability to create custom-built actions. Custom-built actions allow you to create new actions with different steps to take in conversations and form sequences of prompts that define the conversation experience. The steps can be defined with or without conditions, which help control the custom responses. Steps within the custom action can end with routing to conversational search, triggering another existing sub-action, and other actions. This is a powerful way of customizing the end-user\u2019s experience.</p> <p>Learn more about creating custom-built actions here.</p>"},{"location":"Setup/creatingFlows/","title":"Creating skill flows for your assistant","text":""},{"location":"Setup/creatingFlows/#creating-skill-flows","title":"Creating skill flows","text":"<p>As seen in the previous section, running the Ansible skill to Gather z/OS facts, the skill executed successfully and was verified within the Ansible Automation Platform (AAP) console by viewing the job output. However, the output wasn\u2019t displayed by the assistant. To enable this scenario, a skill flow is needed. Skills are often more valuable when combined with other skills. You can create a skill flow to use two or more skills together to finish a task (like returning the output of a previous skill). When you create a skill flow, you map the output of one skill as the input for subsequent skills. Learn more about creating skill flows here.</p> <p>As mentioned in a previous section, there are some default utility skills that are provided out of the box with the \u201cZ Skills Accelerator\u201d which are leveraged to return the output of a skill. To accomplish this, we will import the Ansible Utility skill called Retrieve job output.</p>"},{"location":"Setup/creatingFlows/#add-the-utility-skill","title":"Add the utility skill","text":"<ol> <li> <p>Open IBM watsonx Orchestrate Skill studio.</p> <p></p> </li> <li> <p>Expand Create and click Import API.</p> <p></p> </li> <li> <p>Click the z/OS Skills accelerator (Trial) tile.</p> <p></p> </li> <li> <p>Enter the following values in the z/OS Skills accelerator form and then click Connect.</p> <p>Use the URL, User Name, and Password values recorded in the Explore Ansible Automation Platform section earlier.</p> <p>a: Connection Type: <code>ansible</code></p> <p>b: Application Name: &lt;use the same application name as in previous section&gt;</p> <p>c: Connection URL: &lt;enter the URL for your AAP UI&gt;</p> <p>d: User Name: &lt;enter the AAP User Name (for UI access)&gt;</p> <p>e: Password: &lt;enter the AAP User Password&gt;</p> <p>f: Search Pattern: <code>*</code></p> <p></p> </li> <li> <p>Expand Ansible Utility Skills and click Ansible Utility Skills.</p> <p></p> </li> <li> <p>Select Retrieve job output and click Save as draft.</p> <p></p> </li> <li> <p>Click the ellipses () for the Retrieve job output skill and select Enhance this skill.</p> <p></p> </li> <li> <p>Review the skill settings and then click Publish.</p> <p></p> </li> <li> <p>Select Skill sets from the main menu.</p> <p></p> </li> <li> <p>Select (a) your draft assistant in the Team Skills drop-down list and (b) click the Connections tab.</p> <p></p> </li> <li> <p>Click the Search () icon.</p> <p></p> </li> <li> <p>Search for the application name you specified earlier.</p> <p></p> </li> <li> <p>Click the (a) ellipses () for your application and (b) click Edit connection.</p> <p></p> </li> <li> <p>Verify the application is Connected (a) and then click Close (b).</p> <p></p> </li> </ol>"},{"location":"Setup/creatingFlows/#add-the-skills-to-your-personal-skills","title":"Add the skills to your Personal skills","text":"<ol> <li> <p>Click Skill catalog in the main menu.</p> <p></p> </li> <li> <p>Search for the application name you specified earlier.</p> <p></p> </li> <li> <p>Click the tile for your application.</p> <p>Note, the tile name is proceeded by Ansible Controller Skills.</p> <p></p> </li> <li> <p>Click Add skill for each of the skills you want to add to the flow.</p> <p></p> </li> </ol>"},{"location":"Setup/creatingFlows/#create-the-skill-flow","title":"Create the skill flow","text":"<ol> <li> <p>Click Skill studio in the main menu.</p> <p></p> </li> <li> <p>Expand the Create drop-down menu and click on Skill flow.</p> <p></p> </li> <li> <p>Click the + icon.</p> <p></p> <p>Next, you need to add the z/OS Gather Facts skill and the Retrieve job output skill to the skill flow. Use the Search apps function to locate the skills.</p> </li> <li> <p>Search for the application name you specified earlier and click it's tile.</p> <p></p> </li> <li> <p>Click Add Skill in the z/OS Gather Facts tile.</p> <p></p> </li> <li> <p>Verify the z/OS Gather Facts skill is added to the skill flow.</p> <p></p> </li> <li> <p>Click the + icon after the z/OS Gather Facts tile.</p> <p></p> </li> <li> <p>Repeat steps 5 and 6 for the Retrieve job output skill. </p> <p>After adding the Retrieve job output skill, your skill flow should like like:</p> <p></p> <p>Next you must map the output values of the first skill to the input of the second skill. In this case, pass the \u201cjob id\u201d output from z/OS Gather Facts as an input for Retrieve job output. </p> </li> <li> <p>Click the Retrieve job output tile.</p> <p></p> </li> <li> <p>Select the Input tab and click in the id field.</p> <p></p> </li> <li> <p>Click the z/OS Gather Facts skill in the Mapping data for \"id\" section.</p> <p></p> </li> <li> <p>Click the job icon.</p> <p></p> </li> <li> <p>Verify the job appears in the id field.</p> <p></p> </li> <li> <p>Optionally, toggle the Hide this from from the user setting.</p> <p>For this lab guide, this option is left disabled. Learn more about this option here.</p> <p></p> </li> <li> <p>Click the x to close mapping window.</p> <p></p> </li> <li> <p>Click the pencil ().</p> <p></p> </li> <li> <p>Enter a (a) Name and (b) Description for your skill flow and then (c) click Save.</p> <p></p> </li> <li> <p>Expand the Actions pull-down list and click Save as draft.</p> <p></p> </li> <li> <p>Expand the Actions pull-down list and click Enhance.</p> <p></p> <p>On the Enhancing the skill pages, you can:</p> <ul> <li> <p>modify the skill name, description, and version</p> </li> <li> <p>add phrases (prompts) that will be recognized by the assistant to call the skill flow</p> </li> </ul> </li> <li> <p>Click the Phrases tab.</p> <p></p> </li> <li> <p>Replace the existing phrases (prompts) and then click Publish.</p> <p>Notice the default prompts are either not very intuitive (the skill flow name) or a bit verbose. Replace the existing phrases with phrases that you anticipate users will enter.</p> <p>Be careful with the sample phrases you specify.</p> <p>During the development of the lab guide, it was discovered that some sample phrases with a <code>/</code> character can cause issues with the actions. Avoid using z/OS in the your sample phrases. This issue has been reported to the offering team.</p> <p>Example prompts: </p><pre><code>Show me zOS facts\n</code></pre> <pre><code>Gather and display zOS facts\n</code></pre> <p></p> </li> </ol>"},{"location":"Setup/creatingFlows/#enable-the-skill-flow-in-your-assistant","title":"Enable the skill flow in your assistant","text":"<ol> <li> <p>Click AI assistant builder in the main menu.</p> <p></p> </li> <li> <p>Hover over the Home () and click Actions.</p> <p></p> </li> <li> <p>Click New action.</p> <p></p> </li> <li> <p>Click the Skill-based action tile.</p> <p></p> </li> <li> <p>Click the skill flow you created earlier and then click Next.</p> <p>Note: it may take a minute for the tiles to appear on the screen.</p> <p></p> </li> <li> <p>Enter an example prompt for the skill and click Save.</p> <p>You can use one of the prompts you used earlier for the skill flow.</p> <pre><code>Show me zOS facts\n</code></pre> <p></p> </li> <li> <p>Enter any additional phrases (prompts) and then click the save ().</p> <p></p> </li> <li> <p>Click close (x).</p> <p></p> </li> <li> <p>Select the original skill you created (a) (not the skill flow you just created), click the ellipses (b), and then click Delete (c).</p> <p></p> </li> <li> <p>Wait for system training to complete.</p> <p>Note: The message will change to \"System is trained\" and then disappear.</p> <p></p> </li> <li> <p>Click Preview.</p> <p></p> </li> <li> <p>Enter one of the prompts you specified into the assistant preview.</p> <pre><code>Show me zOS facts\n</code></pre> <p></p> </li> <li> <p>Wait 10 seconds and then click Apply.</p> <p>Note: It is important to wait for the first job to complete before submitting the second job in the flow.</p> <p></p> </li> <li> <p>Review the results from the skill flow.</p> <p>Use both scroll bars in the assistant preview to review all of the returned information. The output should be similar to what was seen in the AAP web console. The character strings like <code>[0;32m</code> are special characters that are not properly displayed in the assistant preview interface.</p> <p></p> Sample output form the Z/OS gather facts flow. <p>Content </p> <p>Identity\u00a0added:\u00a0/runner/artifacts/16/ssh_key_data\u00a0(/runner/artifacts/16/ssh_key_data) [1;35m[WARNING]:\u00a0Collection\u00a0ibm.ibm_zos_core\u00a0does\u00a0not\u00a0support\u00a0Ansible\u00a0version\u00a02.14.2[0m</p> <p>PLAY\u00a0[Gather\u00a0z/OS-specific\u00a0facts.]\u00a0*********</p> <p>TASK\u00a0[Gather\u00a0all\u00a0facts\u00a0about\u00a0z/OS\u00a0host.]\u00a0********* [0;32mok:\u00a0[zos_host][0m</p> <p>TASK\u00a0[Print\u00a0gathered\u00a0facts\u00a0about\u00a0the\u00a0master\u00a0catalog.]\u00a0**** [0;32mok:\u00a0[zos_host]\u00a0=&gt;\u00a0{[0m [0;32m\u00a0\u00a0\u00a0\u00a0\"msg\":\u00a0[[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"master\u00a0catalog\u00a0dsn:\u00a0CATALOG.VS01.MASTER\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"master\u00a0catalog\u00a0volser:\u00a0OPEVS1\"[0m [0;32m\u00a0\u00a0\u00a0\u00a0][0m [0;32m}[0m</p> <p>TASK\u00a0[Print\u00a0only\u00a0CPC\u00a0and\u00a0IODF\u00a0info\u00a0from\u00a0gathered\u00a0z/OS\u00a0facts.]\u00a0****** [0;32mok:\u00a0[zos_host]\u00a0=&gt;\u00a0{[0m [0;32m\u00a0\u00a0\u00a0\u00a0\"msg\":\u00a0[[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"manufacturer:\u00a0IBM\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"model:\u00a0A00\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"plant:\u00a0C1\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"iodf\u00a0name:\u00a0PROV.IODF00\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"iodf\u00a0config:\u00a0DEFAULT\"[0m [0;32m\u00a0\u00a0\u00a0\u00a0][0m [0;32m}[0m</p> <p>TASK\u00a0[Print\u00a0out\u00a0all\u00a0gathered\u00a0facts\u00a0about\u00a0the\u00a0z/OS\u00a0host.]\u00a0***** [0;32mok:\u00a0[zos_host]\u00a0=&gt;\u00a0{[0m [0;32m\u00a0\u00a0\u00a0\u00a0\"ansible_facts\":\u00a0{[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"arch_level\":\u00a0\"2\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"cpc_nd_manufacturer\":\u00a0\"IBM\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"cpc_nd_model\":\u00a0\"A00\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"cpc_nd_plant\":\u00a0\"C1\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"cpc_nd_seqno\":\u00a0\"20D90792EB76\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"cpc_nd_type\":\u00a0\"008562\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"edt\":\u00a0\"00\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"hw_name\":\u00a0\"\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"ieasym_card\":\u00a0\"(00,K2)\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"io_config_id\":\u00a0\"00\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"iodate\":\u00a0\"\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"iodesc\":\u00a0\"\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"iodf_config\":\u00a0\"DEFAULT\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"iodf_name\":\u00a0\"PROV.IODF00\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"iodf_unit_addr\":\u00a0\"DE28\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"ioproc\":\u00a0\"\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"iotime\":\u00a0\"\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"ipaloadxx\":\u00a0\"K2\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"ipl_volume\":\u00a0\"D25VS1\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"load_param_device_num\":\u00a0\"DE28\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"load_param_dsn\":\u00a0\"SYS0.IPLPARM\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"lpar_name\":\u00a0\"\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"master_catalog_dsn\":\u00a0\"CATALOG.VS01.MASTER\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"master_catalog_volser\":\u00a0\"OPEVS1\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"nucleus_id\":\u00a0\"1\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"operator_prompt_flag\":\u00a0\"M\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"parmlib_dsn\":\u00a0\"K2.PARMLIB\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"parmlib_volser\":\u00a0\"USRVS1\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"primary_jes\":\u00a0\"JES2\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"product_mod_level\":\u00a0\"00\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"product_name\":\u00a0\"z/OS\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"product_owner\":\u00a0\"IBM\u00a0CORP\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"product_release\":\u00a0\"05\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"product_version\":\u00a0\"02\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"smf_name\":\u00a0\"VS01\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"sys_name\":\u00a0\"VS01\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"sysplex_name\":\u00a0\"LOCAL\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"tsoe_rel\":\u00a0\"05\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"tsoe_ver\":\u00a0\"4\",[0m [0;32m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\"vm_name\":\u00a0\"\"[0m [0;32m\u00a0\u00a0\u00a0\u00a0}[0m [0;32m}[0m</p> <p>PLAY\u00a0RECAP\u00a0*********** [0;32mzos_host[0m\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0:\u00a0[0;        32mok=4\u00a0\u00a0\u00a0                         [0m\u00a0changed=0\u00a0\u00a0\u00a0\u00a0unreachable=0\u00a0\u00a0\u00a0\u00a0failed=0\u00a0\u00a0\u00a0\u00a0skipped=0\u00a0\u00a0\u00a0\u00a0rescued=0\u00a0\u00a0\u00a0\u00a0ig      nored=0\u00a0\u00a0\u00a0</p> </li> </ol> <p>The scenario shown above may or may not be relevant for your client's use case. It is intended to show you how to sequence skills together in a skill flow to create an action that your assistant triggers based on prompts using the pre-configured Ansible automation templates. You are encouraged to create your own skill flows and prompts using other skills available within the AAP instance. As an example, create a skill flow for the z/OS Ping skill. Be sure to add the Retrieve job output skill to view the results.</p> <p>Next, learn about custom-built actions.</p>"},{"location":"Setup/documentIngestion/","title":"Creating a stand-alone OpenSearch instance for document ingestion","text":""},{"location":"Setup/documentIngestion/#creating-a-stand-alone-opensearch-instance-for-document-ingestion","title":"Creating a stand-alone OpenSearch instance for document ingestion","text":"<p>Now that you\u2019ve created and deployed your own assistant with conversational search capabilities, your client can understand how watsonx Assistant for Z provides its content-grounded responses to any Z related question they might have. In the previous section, you configured your assistant to use a pre-configured Z RAG which has over 220 knowledge sources, and uses this knowledge to provide AI generated responses. </p> <p>In this section, learn to enable clients to personalize the assistant with an internal knowledge base that contains documentation they\u2019d like to ingest into the Retrieval Augmented Generation (RAG). This will help provide a level of context-awareness for their own environment when asking environment-specific questions to the assistant.</p> <p>In this section, install and configure a \u201cZ RAG\u201d on Red Hat OpenShift enabling the bring-your-own-documentation (BYOD) capability to ingest additional documentation beyond the pre-loaded IBM documentation. In doing so, you will deploy a dedicated OpenSearch instance, referred to as bring-your-own-search (BYOS). Then, connect your assistant  to the new new RAG database to provide responses based on the ingested documentation. </p> <p>Below is a high-level, logical architecture of the environment you will deploy in this section.</p> <p></p> <p>Earlier, you provisioned three IBM Technology Zone (ITZ) environments. One of which was a single-node Red Hat OpenShift (SNO) cluster. If you have not reserved this environment, or it is not in the Ready state, return to the  IBM Technology Zone environment section to complete the reservation.</p>"},{"location":"Setup/documentIngestion/#install-the-red-hat-openshift-command-line-interface-utility","title":"Install the Red Hat OpenShift command-line interface utility","text":"<p>The Red Hat OpenShift command-line interface (CLI) utility, which is known as oc, must be installed on your local workstation. If you already installed the oc utility, you can proceed to log in to the SNO cluster.</p> <ol> <li> <p>Click the following link to open a browser window to your ITZ reservations.</p> <p>ITZ My reservations</p> </li> <li> <p>Click the Single Node OpenShift tile.</p> <p></p> </li> <li> <p>Scroll down and record the Cluster Admin Username and Cluster Admin Password.</p> <p></p> </li> <li> <p>Click the OCP Console link.</p> <p>Note: OCP stands for OpenShift Container Platform.</p> <p></p> </li> <li> <p>Enter the Cluster Admin Username and Cluster Admin Password values from step 3 and click Log in.</p> <p></p> </li> <li> <p>Click Help () and then click Command Line Tools.</p> <p></p> </li> <li> <p>Click the link under oc - OpenShift Command Line Interface (CLI) for the operating system of your local machine.</p> <p></p> <p>Clicking the preceding link automatically downloads either a .zip or .tar file specific to your operating system. Unzip or untar the file. Place the oc binary for your operating system (OS) in a directory that is in your default PATH, or set the PATH environment variable to include the location of the oc binary.</p> </li> <li> <p>Verify the installation by running the oc command on your local workstation.</p> <p></p><pre><code>oc --help\n</code></pre> Sample output:  Mac/OS users may need to adjust security settings. <p>The oc binary may cause a security exception. Adjust the security settings by opening the System Settings utility and clicking Privacy &amp; Security. Under Security locate the message about the oc binary and click Allow Anyway. Return to the terminal window and try the <code>oc --help</code> command again and click Allow Anyway when prompted.</p> </li> </ol>"},{"location":"Setup/documentIngestion/#prepare-to-ingest-documents","title":"Prepare to ingest documents","text":"<p>Before ingesting documents, complete the following setup steps.</p> <p></p>"},{"location":"Setup/documentIngestion/#log-in-to-the-openshift-cluster-from-your-local-terminal","title":"Log in to the OpenShift cluster from your local terminal","text":"<p>Note: If you just installed the oc utility, skip the next 5 steps.</p> <ol> <li> <p>Click the following link to open a browser window to your ITZ reservations.</p> <p>ITZ My reservations</p> </li> <li> <p>Click the Single Node OpenShift tile.</p> <p></p> </li> <li> <p>Scroll to the bottom of the reservation page and record the Cluster Admin Username and Cluster Admin Password.</p> <p></p> </li> <li> <p>Click the OCP Console link.</p> <p></p> </li> <li> <p>Enter the Cluster Admin Username and Cluster Admin Password values from step 3 and click Log in.</p> <p></p> </li> <li> <p>Click the kube:admin profile drop-down and click Copy login command.</p> <p></p> </li> <li> <p>Click Display Token.</p> <p></p> </li> <li> <p>Select and copy the Log in with this token string.</p> <p>For most operating systems, double-click the value, then right-click and select Copy.</p> <p></p> </li> <li> <p>Open a command prompt or terminal window on your local workstation.</p> </li> <li> <p>Paste the login command and press enter.</p> <p></p> </li> </ol>"},{"location":"Setup/documentIngestion/#create-a-working-directory","title":"Create a working directory","text":"<ol> <li> <p>Create a directory to store the configuration files that you will create in the next steps.</p> <p>Instructions vary by your local workstation's operating system.</p> <p>The directions that follow may vary depending on your operating system. The examples provided are based upon MacOS.</p> <pre><code>mkdir watsonxAssistant\n</code></pre> </li> <li> <p>Change to the new directory.</p> <pre><code>cd watsonxAssistant\n</code></pre> <p></p> </li> </ol>"},{"location":"Setup/documentIngestion/#install-ibm-certificate-manager-on-red-hat-openshift","title":"Install IBM Certificate Manager on Red Hat OpenShift","text":"<ol> <li> <p>In a text editor, create a file named <code>catalogCertManager.yaml</code> and paste the following text in the file.</p> <p>Formatting of the yaml file is critical!</p> <p>The content of the YAML file must be formatted exactly as shown. Use the Copy icon to prevent typographical errors.</p> <p>File name:  </p><pre><code>catalogCertManager.yaml\n</code></pre> <p>File contents: </p><pre><code>apiVersion: operators.coreos.com/v1alpha1 \nkind: CatalogSource \nmetadata: \n  name: ibm-cert-manager-catalog \n  namespace: openshift-marketplace \nspec: \n  displayName: ibm-cert-manager-4.2.7 \n  grpcPodConfig: \n    securityContextConfig: restricted \n  image: icr.io/cpopen/ibm-cert-manager-operator-catalog@sha256:4dcf4ace4b5f166f83b31063f7e6404dbf78d8e98a9d4fcf52fedf576a55ca6c \n  publisher: IBM \n  sourceType: grpc \n  updateStrategy: \n    registryPoll: \n      interval: 30m0s\n</code></pre> </li> <li> <p>Install the IBM Certificate Manager operator in the Red Hat OpenShift cluster.</p> <pre><code>oc apply -f catalogCertManager.yaml\n</code></pre> <p>The preceding command returns a message that states the ibm-cert-manager-catalog was created.</p> </li> <li> <p>In the OpenShift web console, click Operators and then select OperatorHub.</p> <p></p> </li> <li> <p>Click the Project to pull-down menu and click the Show default projects toggle.</p> <p></p> </li> <li> <p>Scroll down and select openshift-marketplace.</p> <p></p> </li> <li> <p>Enter IBM Cert Manager in the search field and then click the IBM Cert Manager tile.</p> <p>Be patient.</p> <p>It may take a minute or two for the IBM Cert Manager tile to appear. </p> <p>Note: The current version of the operator may differ than the one shown in the image below. Select the most current version.</p> <p></p> </li> <li> <p>Click Install.</p> <p></p> </li> <li> <p>Keep the default settings and click Install.</p> <p></p> <p>Do not continue until...</p> <p>The installation process takes a few minutes. Do not continue until you see the following message: Installed operator: ready for use.</p> <p></p> </li> </ol>"},{"location":"Setup/documentIngestion/#install-the-watsonx-assistant-for-z-operator-for-opensearch","title":"Install the watsonx Assistant for Z Operator (for OpenSearch)","text":"<ol> <li> <p>In your command prompt or terminal window, create a new namespace called <code>wxa4z-byos</code> in the Red Hat OpenShift cluster.</p> <pre><code>oc create namespace wxa4z-byos \n</code></pre> </li> <li> <p>Create or obtain your IBM Container Software production entitlement key.</p> <p>A production entitlement key is required to pull the container images that get deployed by the operator.</p> <p>To create or retrieve your existing entitlement key, follow the instructions here.</p> <p>If additional assistance is needed, refer to this site. </p> <p>After locating your existing key or creating a new key, continue to the next step.</p> </li> <li> <p>Click copy and record your entitlement key for future use in a secure location.</p> <p></p> </li> <li> <p>In your command prompt or terminal window, set an environment variable with your production entitlement key.</p> <p>Substitute your production entitlement key copied in the last step for <code>&lt;entitlement key&gt;</code>.</p> <p>Mac OS: </p><pre><code>export IBM_CS_ENT_KEY=&lt;entitlement key&gt;\n</code></pre> <p>Microsoft Windows: </p><pre><code>set IBM_CS_ENT_KEY=&lt;entitlement key&gt;\n</code></pre> </li> <li> <p>Enter the following command to create a pull secret for the Container Registry.</p> <p>Mac OS: </p><pre><code>oc -n wxa4z-byos create secret docker-registry icr-pull-secret --docker-server=cp.icr.io --docker-username=cp --docker-password=$IBM_CS_ENT_KEY\n</code></pre> <p>Microsoft Windows: </p><pre><code>oc -n wxa4z-byos create secret docker-registry icr-pull-secret --docker-server=cp.icr.io --docker-username=cp --docker-password=%IBM_CS_ENT_KEY%\n</code></pre> <p></p> </li> <li> <p>In a text editor, create a file named <code>catalogSource.yaml</code> and paste the following text in the file.</p> <p>Formatting of the yaml file is critical!</p> <p>The content of YAML files must be formatted exactly as shown. Use the copy icon to prevent typographical errors.</p> <p>File name:  </p><pre><code>catalogSource.yaml\n</code></pre> <p>File contents: </p><pre><code>apiVersion: operators.coreos.com/v1alpha1 \nkind: CatalogSource \nmetadata: \n  name: ibm-wxa4z-operator-catalog \n  namespace: wxa4z-byos \nspec: \n  displayName: \"IBM watsonx Assistant for Z Operator Catalog\" \n  image: icr.io/cpopen/ibm-wxa4z-catalog:v2.1.0@sha256:a085d360b6aa0e40cf86a632eb5cd190a0407d1c54ec1b2d1d2fb5507f39a524\n  publisher: 'IBM' \n  sourceType: grpc \n  secrets: \n  - icr-pull-secret\n</code></pre> </li> <li> <p>Create your document catalog in the Red Hat OpenShift operator.</p> <pre><code>oc apply -f catalogSource.yaml\n</code></pre> <p></p> </li> <li> <p>In the Red Hat OpenShift web console, click OperatorHub and select the wxa4z-byos project.</p> <p></p> </li> <li> <p>Enter ibm watsonx in the search field and the click the IBM watsonx Assistant for Z Operator Catalog tile.</p> <p>Be patient.</p> <p>It may take a minute or two for the IBM watsonx Assistant for Z Operator Catalog tile to appear. </p> <p>Note: The current version of the operator may differ than the one shown in the image below.</p> <p></p> </li> <li> <p>Click Install.</p> <p>Note: The current version of the operator may differ than the one shown in the image below. Select the most current version.</p> <p></p> </li> <li> <p>Select A specific namespace on the cluster (a) under Installation mode and wxa4z-byos (b) for the Installed Namespace, then click Install (c).</p> <p></p> <p>Do not continue until...</p> <p>The installation process takes a few minutes. Do not continue until you see the following message: Installed operator: ready for use.</p> <p></p> </li> <li> <p>In your command prompt or terminal window, run the following commands to add the Container Registry credential to the operator's service account.</p> <p>Mac OS and Microsoft Windows: </p><pre><code>oc project wxa4z-byos\n</code></pre> <p>Mac OS: </p><pre><code>oc patch serviceaccount ibm-wxa4z-operator-controller-manager --type merge -p '{\"imagePullSecrets\": [{\"name\": \"icr-pull-secret\"}]}'\n</code></pre> <p>Microsoft Windows: </p><pre><code>oc patch serviceaccount ibm-wxa4z-operator-controller-manager --type merge -p \"{\\\"imagePullSecrets\\\":[{\\\"name\\\":\\\"icr-pull-secret\\\"}]}\"\n</code></pre> <p></p> </li> <li> <p>In the Red Hat OpenShift web console, under Workloads, click Pods.</p> <p></p> </li> <li> <p>Verify the two pods that start with ibm-wxa4z-operator have a status of Running and that all pods are Ready.</p> <p></p> </li> <li> <p>Run the following command to set the administrative policy for the workspace.</p> <pre><code>oc -n wxa4z-byos adm policy add-scc-to-user privileged -z byos\n</code></pre> <p></p> </li> </ol>"},{"location":"Setup/documentIngestion/#deploy-required-secrets-and-the-custom-bring-your-own-search-byosearch-resources","title":"Deploy required secrets and the custom bring-your-own-search (BYOSearch) resources","text":"<ol> <li> <p>In a text editor, create a file named <code>os-secret.yaml</code> and paste the following text in the file.</p> <p>File name:  </p><pre><code>os-secret.yaml\n</code></pre> <p>Substitute a secure password of your choosing for the string <code>&lt;OPENSEARCH_PASSWORD&gt;</code>.</p> <p>File contents: </p><pre><code>apiVersion: v1 \nstringData: \n  password: &lt;OPENSEARCH_PASSWORD&gt; \nkind: Secret \nmetadata: \n  name: opensearch-creds \n  namespace: wxa4z-byos \ntype: Opaque\n</code></pre> </li> <li> <p>Create the secret by running the following command.</p> <pre><code>oc apply -f os-secret.yaml\n</code></pre> </li> </ol> <p></p> <ol> <li> <p>In a text editor, create a file named <code>client-ingestion-secret.yaml</code> and paste the following text in the file.</p> <p>File name:  </p><pre><code>client-ingestion-secret.yaml\n</code></pre> <p>Substitute a secure authentication key of your choosing for the string <code>&lt;CLIENT_INGESTION_AUTHKEY&gt;</code>. The authentication key can be a random password.</p> <p>File contents: </p><pre><code>apiVersion: v1 \nstringData: \n  authkey: &lt;CLIENT_INGESTION_AUTHKEY&gt; \nkind: Secret \nmetadata: \n  name: client-ingestion-authkey \n  namespace: wxa4z-byos \ntype: Opaque\n</code></pre> </li> <li> <p>Create the secret by running the following command.</p> <pre><code>oc apply -f client-ingestion-secret.yaml\n</code></pre> </li> <li> <p>In a text editor, create a file named <code>wrapper-creds.yaml</code> and paste the following text in the file.</p> <p>File name:  </p><pre><code>wrapper-creds.yaml\n</code></pre> <p>Substitute a secure password credential of your choosing for the string <code>&lt;WRAPPER_PASSWORD&gt;</code>. The password can be a random password. Use this password in the following steps when you configure your BYOS connection in your assistant to connect to the network route.</p> <p>File contents: </p><pre><code>apiVersion: v1\nstringData:\n  username: admin\n  password: &lt;WRAPPER_PASSWORD&gt;\nkind: Secret\nmetadata:\n  name: wrapper-creds\n  namespace: wxa4z-byos\ntype: Opaque\n</code></pre> </li> <li> <p>Create the secret by running the following command.</p> <pre><code>oc apply -f wrapper-creds.yaml\n</code></pre> </li> <li> <p>Obtain and record your cluster domain that is used for routes by running the following command.</p> <pre><code>oc -n openshift-ingress-operator get ingresscontroller default -o jsonpath=\"{.status.domain}\"\n</code></pre> <p>The output from the command does not include a newline.</p> <p>The value returned for the cluster domain does not include a newline. When copying the value do not include the character or characters used for your command line prompt. Do not include the your prompt in the next step!</p> <p>Note: The output of the command will be a string similar to: apps.672b79320c7a71b728e523b4.ocp.techzone.ibm.com</p> </li> <li> <p>In a text editor, create a file named <code>byos.yaml</code> and paste the following text in the file.</p> <p>File name:  </p><pre><code>byos.yaml\n</code></pre> <p>Substitute the domain name recorded in the previous step for the string <code>&lt;YOUR_CLUSTER_DOMAIN&gt;</code>.</p> <p>File contents: </p><pre><code>apiVersion: wxa4z.watsonx.ibm.com/v1\nkind: BYOSearch\nmetadata:\n  name: byosearch\n  namespace: wxa4z-byos\nspec:\n  imagePullSecrets:\n  - name : icr-pull-secret\n  namespace: wxa4z-byos\n  clusterName: wxa4z-byos-cluster\n  clusterDomain: &lt;YOUR_CLUSTER_DOMAIN&gt;\n\n  opensearch:\n    secretName: opensearch-creds\n\n    persistence:\n      enabled: true\n      storageClass: \"managed-nfs-storage\"\n      accessModes:\n        - ReadWriteOnce\n      size: 24Gi\n\n  wrapper:\n    createRoute: true\n    resources:\n      requests:\n        cpu: 2\n        memory: \"500Mi\"\n    limits:\n        cpu: 2\n        memory: \"1Gi\"\n\n  clientIngestion:\n    secretName: client-ingestion-authkey\n\n    resources:\n      limits:\n        cpu: \"500m\"\n        memory: 2Gi\n        nvidia.com/gpu: \"0\"\n      requests:\n        cpu: \"500m\"\n        memory: 1Gi\n        nvidia.com/gpu: \"0\"\n    pvc:\n      storageClass: \"managed-nfs-storage\"\n      enabled: true\n      size: 24Gi\n</code></pre> </li> <li> <p>Run the following command to deploy BYOS on your cluster.</p> <pre><code>oc apply -f byos.yaml\n</code></pre> </li> </ol>"},{"location":"Setup/documentIngestion/#verify-all-the-required-pods-are-running-and-get-the-network-route-to-your-byos-instance","title":"Verify all the required pods are running and get the network route to your BYOS instance","text":"<ol> <li> <p>In the OCP console, verify that all pods have the status of Running or Completed.</p> <p>Do not continue until...</p> <p>The BYOS deployment can take 20 minutes or more to complete. Do not continue until all the pods have a status of \u201cRunning\u201d or \"Completed\". The next step is to retrieve your BYOS endpoint URL.</p> <p></p> </li> <li> <p>Under Networking, click Routes.</p> <p></p> </li> <li> <p>Copy and record the location for the wxa4z-opensearch-wrapper route.</p> <p></p> </li> </ol>"},{"location":"Setup/documentIngestion/#update-your-assistant-with-the-new-byos-instance-route","title":"Update your assistant with the new BYOS instance route","text":"<p> You are now ready to configure your assistant with the route to your BYOS instance.</p> <ol> <li> <p>Using the network route for your BYOS instance, append the string /v1/query to complete the URL endpoint. </p> <p>The URL should look similar to:</p> <p><code>https://wxa4z-opensearch-wrapper-wxa4z-byos.apps.672b79320c7a71b728e523b4.ocp.techzone.ibm.com/v1/query</code></p> <p>Important: The above URL will not work for you. Use the value of your specific OpenSearch instance that is recorded in the previous step.</p> </li> <li> <p>Update your assistant's custom search integration URL.</p> <p>Next, you need to return to your assistant in the watsonx Orchestrate AI assistant builder and update the custom search integration URL. Use the URL form the network route (with /v1/query) appended. Use admin for the Username and the Password will be the password you specified in the <code>wrapper-creds.yaml</code> file. </p> <p>Don't recall how to set the customer search URL?</p> <p>Refer back to Creating an assistant and configuring conversational search if you don't remember how to specify the customer search URL.</p> </li> <li> <p>Test your assistant and verify it is still answering question related to IBM Z.</p> <p>Experiment with different prompts and validate that the answers provided are reasonable, and that you can view the documentation that was sourced. If responses are not received as expected, verify the URL is formatted correctly and you specified the <code>`wrapper-creds.yaml</code> password as the admin password.</p> </li> </ol>"},{"location":"Setup/documentIngestion/#troubleshooting","title":"Troubleshooting","text":"<p>The following are issues that you may encounter. If the provided resolutions do not work, contact support by using the methods that are mentioned in the Support section.</p> Pods have a status of ErrImagePull or ImagePullBackoff <p>If the pods starting with ibm-wxa4z-operator have a status of \u201cErrImagePull\u201d or \u201cImagePullBackoff\u201d, you can delete the pod and it will automatically restart and pull the image successfully. Wait until the pod is re-created successfully.</p> The wxa4z-client-ingestion pod does not start <p>Did you include the % character in the clusterDomain name when creating the byos.yaml? To resolve, edit the byos.yaml file and run the following command again. The current pod will be terminated and a new one started. This will take about 20 minutes to start.</p> <pre><code>oc apply -f byos.yaml\n</code></pre>"},{"location":"Setup/exploreAAP/","title":"Explore Ansible Automation Platform","text":""},{"location":"Setup/exploreAAP/#explore-ansible-automation-platform","title":"Explore Ansible Automation Platform","text":"<p>After you reserved the Ansible Automation Platform (AAP) and Wazi z/OS environment in IBM Technology Zone (ITZ) and the reservation is in the Ready state, follow these steps to explore AAP. </p>"},{"location":"Setup/exploreAAP/#access-the-aap-and-wazi-as-a-service-environment","title":"Access the AAP and Wazi as a Service environment","text":"<p>Be sure to record the information as instructed</p> <p>Several of the steps below instruct you to record values from your ITZ reservation. Be sure to do this as they will not only be used in this section, but also in later sections of the lab guide.</p> <ol> <li> <p>In the IBM Technology Zone portal, expand My TechZone and select My Reservations, or click the following link.</p> <p>ITZ My reservations</p> <p></p> </li> <li> <p>Click the watsonx Assistant for Z Pilot - AAP &amp; z/OS tile.</p> <p></p> </li> <li> <p>Locate and record the AAP User Name (For UI access) and AAP User Password fields.</p> <p></p> </li> <li> <p>Record and then click the Ansible Automation Platform UI link.</p> <p></p> </li> <li> <p>Enter the Username and Password that is recorded in step 3 and click Log In.</p> <p></p> </li> <li> <p>Click Templates under the Resources section.</p> <p></p> </li> </ol> <p>The AAP instance is preconfigured to the Wazi aaS instance</p> <p>Note that because the AAP instance and the back-end z/OS system are preconfigured, no changes are needed to execute the templates and they will target your provisioned z/OS system by default.</p> <ol> <li> <p>Locate the z/OS Ping template and click the rocket () icon to start the template. </p> <p></p> </li> <li> <p>Observe the z/OS Ping job run.</p> <p></p> </li> </ol> <p>Take time to explore the other templates that are ready to use. Learn more about the automation capabilities here.</p>"},{"location":"Setup/gettingStartedSkills/","title":"Getting started with skills and actions","text":""},{"location":"Setup/gettingStartedSkills/#getting-started-with-skills-and-actions","title":"Getting started with skills and actions","text":"<p>Watsonx Assistant for Z automates a range of IBM Z related tasks through assistant interactions by importing skills. Each skill is a pre-defined automation that accomplishes some unit or units of work by running tasks. For example, skills can view z/OS IPL information or work with z/OS datasets.</p> <p>Watsonx Assistant for Z extends watsonx Orchestrate, allowing users to build new skills from Ansible Automation platform or z/OS Management Facility (z/OSMF) through the Z Skills Accelerator extension. This extension connects Ansible and z/OS application programming interfaces (APIs) and imports automation as Ansible Playbooks, JCL, or REXX as skills.Learn more importing and building skills here.</p> <p>Below is a high-level, logical architecture of the environment you will deploy in this section.</p> <p></p>"},{"location":"Setup/gettingStartedSkills/#environments","title":"Environments","text":""},{"location":"Setup/gettingStartedSkills/#watsonx-orchestrate","title":"Watsonx Orchestrate","text":"<p>The Z Skills Accelerator extension is already configured in your watsonx Orchestrate IBM Technology Zone (ITZ) environment. You can use this component to import new skills.</p>"},{"location":"Setup/gettingStartedSkills/#ansible-automation-platform-and-wazi-as-a-service","title":"Ansible Automation Platform and Wazi as a Service","text":"<p>To import skills for automations, you use Ansible Automation Platform (AAP) and Wazi as a Service (Wazi aaS) to serve as the z/OS back-end. Learn more about AAP here. Learn more about Wazi, here.</p> <p>The two resources are provisioned together in the ITZ environment that you reserved earlier. This environment enables the ability to manage and automate z/OS tasks and subsystems with various preinstalled ansible playbooks. It includes a z/OS back-end (Wazi as a Service) with all needed prerequisites.</p> <p>The playbooks provided cover various use cases for automating z/OS management. Ansible\u2019s capabilities for automating various Z-specific tasks are not limited to the use cases that are preinstalled in the AAP instance. The preinstalled playbooks are tasks from the \u2018IBM z/OS core collection\u2019. Using this environment accelerates the ability to showcase the value of watsonx assistant for Z, and to get started with simple automations that can be expanded.</p> <p>The ITZ environment gives you access to AAP, which is preconfigured to target the accompanying z/OS Wazi system, along with web-based access to AAP to experiment with different playbook templates. These templates are imported into watsonx Orchestrate as skills and connected to your assistant.</p> <p>For more information on the AAP and Wazi z/OS environments, refer to this document. </p> <p>The playbook templates that are preinstalled in AAP cover various use cases, which you can explore, including:</p> <ul> <li>z/OS Certificate Management (create, delete, list, and renew certificates)</li> <li>dataset management (create, delete, fetch datasets)</li> <li>Submit JCL</li> <li>Run Operator commands</li> <li>Run TSO commands</li> <li>And more</li> </ul> <p>Each of the sections that follow build upon each other. Complete each to successfully enhance your assistant by starting with Explore Ansible Automation Platform.</p>"},{"location":"Setup/importSkills/","title":"Importing skills from Ansible Automation Platform","text":""},{"location":"Setup/importSkills/#importing-skills-from-ansible-automation-platform","title":"Importing skills from Ansible Automation Platform","text":"<p>Now that you understand Ansible Automation Platform (AAP) and the preinstalled automations available, you can import them as skills into your watsonx Orchestrate instance, which is used for assistant guided actions.</p>"},{"location":"Setup/importSkills/#import-skills-into-your-assistant","title":"Import skills into your assistant","text":"<p>The next steps assume that you have an active browser window to the watsonx Orchestrate ITZ cloud account. If you do not, refer to the initial steps in Creating an assistant and configuring conversational search.</p> <ol> <li> <p>Return to your watsonx Orchestrate instance and expand the main menu and click Skill studio. </p> <p></p> </li> <li> <p>Expand Create and click Import API.</p> <p></p> </li> <li> <p>Click the z/OS Skills accelerator (Trial) tile.</p> <p></p> </li> </ol> <p></p> <ol> <li> <p>Enter the following values in the z/OS Skills accelerator form and then click Connect.</p> <p>Use the URL, User Name, and Password values recorded in the Explore Ansible Automation Platform section earlier.</p> <p>a: Connection Type: <code>ansible</code></p> <p>b: Application Name: &lt;enter a meaningful name for the skills that you will import&gt; - be sure to remember this name, you will need in the next section</p> <p>c: Connection URL: &lt;enter the URL for your AAP UI&gt;</p> <p>d: User Name: &lt;enter the AAP User Name (for UI access)&gt;</p> <p>e: Password: &lt;enter the AAP User Password&gt;</p> <p>f: Search Pattern: <code>*</code></p> <p></p> </li> <li> <p>Expand the Ansible Job Template Proj... folder.</p> <p>Explore the other available skills</p> <p>Take time to explore the available skills. There are many utility skills provided out of the box with the \u201cZ Skills Accelerator\u201d which are needed for actions such as retrieving the output of an Ansible skill. Consider importing these utility skills to enable more complete automation execution flows.</p> <p></p> </li> <li> <p>Click aap4zos.</p> <p></p> </li> <li> <p>Select the skills you want to import into your application and then click Save as draft.</p> <p>For this lab, select the Z/os ping and Z/os gather facts skills.</p> <p></p> </li> <li> <p>Click the ellipses () for the first skill and select Enhance this skill.</p> <p></p> </li> <li> <p>Review the skill enhancement options and then click Publish.</p> <p>On the Enhance this skill page, you can specify enhancements to the default skill.  Refer to this documentation for more information on enhancing skills.</p> <p></p> </li> <li> <p>Repeat steps 8 and 9 for each skill you imported.</p> <p></p> </li> </ol> <p>The selected skills are now ready for use and available to your assistant. In the next section, learn how to connect them to your assistant.</p>"},{"location":"Setup/importingzOSskills/","title":"Importing pre-packaged z/OS skills","text":""},{"location":"Setup/importingzOSskills/#importing-pre-packaged-zos-skills","title":"Importing pre-packaged z/OS skills","text":"<p>Provided with Version 2 of watsonx Assistant for Z is a set of pre-packaged skills which can be used to automate various tasks on z/OS, such as running different console commands and retrieving logs from batch jobs.</p> <p>The list of pre-packaged skills available include:</p> <ul> <li> <p>Authorized program list</p> </li> <li> <p>z/OS IPL Information</p> </li> <li> <p>Display zOS parmlib datasets</p> </li> <li> <p>Unix System services options</p> </li> <li> <p>Display zOS subsystems</p> </li> <li> <p>List spool files</p> </li> <li> <p>Retrieve dataset content</p> </li> <li> <p>Retrieve spool file content</p> </li> <li> <p>Retrieve z/OS Management Facility (OSMF) job status</p> </li> </ul> <p>IBM watsonx Orchestrate requires that any OSMF environment you connect to for skill execution has certificate authority (CA) signed certificates. In the case of the Ansible Automation Platform (AAP) &amp; Wazi z/OS environment provisioned in IBM Technology Zone (ITZ), the z/OS system is not currently using CA signed certificates and therefore cannot execute the pre-packaged skills on your own z/OS system. For demo purposes, it is still recommended to import them so that the pre-packaged skills can be shown. </p> <p>Work is in progress to modify the ITZ environments so that they are enabled for skill execution using these pre-packaged skills. In the meantime, the underlying automation for these pre-packaged skills can still be demonstrated using the Ansible skill \u2018z/OS Operator Command\u2019 which is available to import. This works because the pre-packaged skills are executing console commands directly using OSMF APIs which can also be run using the Ansible template skill \u2018z/OS Operator command\u2019. For example, here are the console commands being used in some of the pre-packaged skills:</p> <ul> <li>Authorized Program list \u2013 <code>operator command -&gt; d prog,lnklist</code></li> <li>z/OS IPL Information - <code>operator command -&gt; d iplinfo</code></li> <li>Display zOS parmlib datasets - <code>operator command -&gt; d parmlib</code></li> </ul> <p>You can import the pre-packaged skills into your sandbox environment by downloading the .zip file from  here and following these instructions.</p> <p>You must extract the imbedded JSON file and modify the file for your environment by following these instructions.</p>"},{"location":"Setup/otherIntegrations/","title":"Adding other integrations","text":""},{"location":"Setup/otherIntegrations/#adding-other-integrations","title":"Adding other integrations","text":"<p>IBM watsonx Assistant for Z can integrate with other delivery channels beyond a web page. Other channels include Slack, Microsoft teams, WhatsApp, and many others. Integrating with these and other channels are not covered in the lab guide. However, follow the steps after this to find the current channels that are supported and where to get more information.</p> <ol> <li> <p>Hover over the Home () and click Integrations.</p> <p></p> </li> <li> <p>Explore the Essential channels and Channels sections.</p> <p></p> </li> <li> <p>Click Add on the Slack tile.</p> <p></p> </li> <li> <p>Click Add.</p> <p></p> </li> <li> <p>Review the step-by-step instructions and additional information available for adding a Slack integration.</p> <p>Note: Most users will not have permissions to integrate with your enterprise slack deployment as doing so requires administrative rights.</p> <p></p> </li> </ol> <p>Take time to further explore the next steps for adding a Slack integration channel and the other supported integration channels.</p> <p>Learn more about adding integrations here.</p>"},{"location":"Setup/publishDeploy/","title":"Publishing and deploying your assistant","text":""},{"location":"Setup/publishDeploy/#publishing-and-deploying-your-assistant","title":"Publishing and deploying your assistant","text":"<p>To this point, acting as an Assistant Builder, you have built out the assistant, configured conversational search, and added skills and automations. While doing so, you have been testing your assistant using the preview capability of AI Assistant Builder. The preview capability is a closed environment for experimenting with prompts.</p> <p>After your assistant is finalized, you can publish it to make it available to end-users. Each assistant you create comes with two environments: draft and live. You have been configuring your assistant in the draft environment. Each environment has its own set of IDs, URLs, and service credentials that can be referenced by external services.</p> <p>The Environments page in the AI assistant builder has tabs for managing both the Draft environment and the Live environment:</p> <p></p> <p></p> <p>The Draft environment contains all your in-progress work in the Actions, Preview, and Publish pages. Use the Draft environment tab to build out your assistant and use for internal testing before deployment. Any integrations you use (i.e. channels) for the Draft environment are unique to that environment, and changes to draft integrations don\u2019t affect the Live environment.</p>"},{"location":"Setup/publishDeploy/#publish-the-assistant","title":"Publish the assistant","text":"<p>Each time that you publish, you\u2019re creating a new version of the assistant, for example V1. When you publish your content, you\u2019re creating a snapshot of the draft content, resulting in a version.</p> <p>Versions do not contain integration configurations or environment settings</p> <p>Published versions contain all of the content from actions, including settings and variables. However, versions do not contain integration configurations or environment settings. Integration configurations and environment settings must be configured manually in each environment.</p> <p>For managing quality-control and versioning, the Live environment is the version of the assistant you should be giving access to the end-user.</p> <p>Follow these steps to publish the first version of your assistant using Assistant Builder:</p> <ol> <li> <p>Hover over the Home icon () and click Publish.</p> <p></p> </li> <li> <p>Click Publish.</p> <p></p> </li> <li> <p>Enter a description of the changes (a), set the environment to Live (b), and then click Publish (c).</p> <p></p> </li> </ol>"},{"location":"Setup/publishDeploy/#configure-the-live-environment","title":"Configure the live environment","text":"<p>Important: When the live environment is created, the environment settings from the draft environment are not carried over (for example the configuration of the OpenSearch instance used for conversational search).</p> <ol> <li> <p>Hover over the Home icon () and click Environments.</p> <p></p> </li> <li> <p>Click Live.</p> <p></p> </li> <li> <p>Click Web chat.</p> <p></p> </li> <li> <p>Customize the live assistant as you see fit.</p> <p>On the Style tab, you\u2019re able to set the Assistant name which will be displayed at the top of the chat window when end-users are interacting with the assistant. For pilots or demos, you may want to personalize this name for the client. Also in the Style tab, you have the ability set the themes and display settings of the chat windows, including the ability to enable the IBM Watermark and enable streaming (recommended).</p> <p>On the Home tab, you enable and customize a default greeting message from the assistant when the user accesses the assistant chat. You\u2019re also able to set Conversation starters that will be displayed in the chat window. When selected by the end-user, the text of these conversation starters are sent as prompts, so it is important that your assistant is trained and tested to answer appropriately. It is highly recommended to remove these default conversation starters and to consider creating your own as long as they\u2019re able to be executed as actions and provide value to the end-user. At the bottom of the Home screen tab, you will also see the ability to add a Background style for the assistant chat window.</p> <p>Explore all the other tabs.</p> <p>Customize your live environment.</p> <p>For this lab, toggle Streaming on and turn Suggestions off on the Suggestions tab. You may also want to change the theme to Dark to differentiate your draft and live environments. </p> <p></p> </li> <li> <p>Click Save and exit.</p> <p></p> </li> <li> <p>Click Add in the Search tile.</p> <p></p> </li> <li> <p>Click Custom service.</p> <p></p> </li> <li> <p>Enter the URL for your bring-your-own-search (BYOS) engine (a), select Basic authentication for the authentication type (b), enter admin for the Username (c), enter the password you specified in the <code>wrapper-creds.yaml</code> file for the Password (d), and then click Next (e).</p> <p>Use the correct URL and authentication type!</p> <p>Use the URL and credentials for your BYOS OpenSearch engine created earlier here.</p> <p></p> </li> <li> <p>Verify conversational search is enabled and click Save.</p> <p></p> </li> <li> <p>Update the Custom service settings (a-f), click Save (g), and then click Close (h).</p> <p>Feel free to customize the settings.</p> <p>This is your assistant. Feel free to customize the settings. The settings shown below reflect the changes made earlier in the lab guide to the draft version of the assistant. This includes the Metadata field to weigh ingested client documents higher using: </p> <pre><code>{\"doc_weight\":\n{\"product_docs\":0.2,\n\"customer_docs\":0.8},\n\"ibm_indices\":\"*_ibm_docs_slate,*_ibm_redbooks_slate\",\n\"standardize\":true,\n\"customer_indices\":\"customer_*\"\n}\n</code></pre> <p></p> </li> </ol>"},{"location":"Setup/publishDeploy/#connect-the-skills-to-the-live-environment","title":"Connect the skills to the live environment","text":"<ol> <li> <p>Click Skill sets in the main menu.</p> <p></p> </li> <li> <p>Select your assistant's live instance in the Skill sets list.</p> <p></p> </li> <li> <p>Click Connections.</p> <p></p> </li> <li> <p>Search for the application name you specified earlier.</p> <p></p> </li> <li> <p>Click the ellipses () for your app and then click Connect app.</p> <p></p> </li> <li> <p>Click Connect app.</p> <p></p> </li> <li> <p>Enter the username (a) and password (b) using the username (<code>admin</code>) and password for your IBM Technology Zone (ITZ) watsonx Assistant for Z Pilot - AAP &amp; z/OS reservation, and then click Connect app (c).</p> <p></p> <p>Learn more about publishing your assistant and creating live environments here.</p> </li> </ol>"},{"location":"Setup/publishDeploy/#deploy-the-assistant","title":"Deploy the assistant","text":"<p>After configuring your assistant\u2019s settings and publishing, the final step is to deploy your assistant which can be done across various channels depending on the use case.</p> <p>There are several options for deploying your assistant through channels and integrations to satisfy the use cases that you might address. Learn more about all the deployment options here.</p> <p>For this lab, you will deploy the assistant using the web chat integration. The web chat integration provides an assistant interface that can integrate with your website. There is a lot of flexibility with how you may want to integrate it. Learn more about the web chat integration here.</p> <ol> <li> <p>Open the Environments page in AI assistant builder.</p> </li> <li> <p>Click Web chat for the Live environment.</p> <p></p> </li> <li> <p>Click the Embed tab.</p> <p></p> </li> <li> <p>Copy and record the <code>integrationID</code>, <code>region</code>, and <code>serviceInstanceID</code> values.</p> <p></p> </li> </ol> <ol> <li> <p>In a text editor, create a file named <code>Watson Assistant Chat.html</code> and paste the following text in the file.</p> <p>File name: </p><pre><code>Watson Assistant Chat.html\n</code></pre> <p>File contents: </p><pre><code>&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;title&gt;Watson Assistant Chat&lt;/title&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n\n&lt;style&gt;\n  .WebChatContainer {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n  }\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div class=\"WebChatContainer\"/&gt;\n\n&lt;script&gt;\nconst element = document.querySelector('.WebChatContainer');\n\nwindow.watsonAssistantChatOptions = {\n    integrationID: \"&lt;YOUR INTEGRATION ID&gt;\", // The ID of this integration.\n    region: \"&lt;YOUR REGION&gt;\", // The region your integration is hosted in.\n    serviceInstanceID: \"&lt;YOUR SERVICE INSTANCE ID&gt;\", // The ID of your service instance.\n    element,\n\n    openChatByDefault: true,\n    hideCloseButton: true,\n\n    layout: {\n      showFrame: false,\n      hasContentMaxWidth: true,\n    },\n\n    onLoad: async (instance) =&gt; {\n      window.WACInstance = instance;\n      await instance.render();\n    }\n};\n\nsetTimeout(function() {\n    const t = document.createElement('script');\n    t.src = 'https://web-chat.global.assistant.test.watson.appdomain.cloud/versions/' + (window.watsonAssistantChatOptions.clientVersion || 'latest') + '/WatsonAssistantChatEntry.js';\n    document.head.appendChild(t);\n});\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Before modification: </p> <p>After modification: </p> </li> <li> <p>Open the <code>Watson Assistant Chat.html</code> file in a web browser.</p> <p></p> </li> </ol> <p>Your assistant is now live. Explore some of the earlier prompts to verify the assistant is accessing the ingested documents and your skills and skill flows are active.</p> <p>Wait 5-10 seconds before clicking apply on skill actions.</p> <p>Prompts to try: </p><pre><code>What is z/OS continuous delivery?\n</code></pre> <pre><code>Get z/OS facts\n</code></pre> <pre><code>Show me z/OS facts\n</code></pre> <pre><code>Gather and display z/OS facts\n</code></pre>"},{"location":"Setup/zassist/","title":"Installing and using zassist to ingest client documents","text":""},{"location":"Setup/zassist/#installing-and-using-zassist-to-ingest-client-documents","title":"Installing and using zassist to ingest client documents","text":"<p>With bring-your-own-search (BYOS) installed and configured in your assistant, you can now prepare for document ingestion. This will show how client's can augment their assistant\u2019s conversational search by creating an internal knowledge base with their documentation. This will allow the assistant to provide valuable responses to a range of questions that may not be possible with the default documentation available. </p> <p>As an example, a client mentioned that their developers often need reference material on company-specific legacy code or company-specific syntax, and they end up having to search through a lot of documentation to find it or look at old code. There is also a need for their operational support group to quickly determine how to resolve technical issues using runbooks. </p> <p>You can show your client how watsonx Assistant for Z can assist developers and operational support focals in finding answers about internal processes for code development and deployment by ingesting internal documentation. And by doing so, the client can establish an internal knowledge base that enables their assistant to provide the answers they need to their company-specific questions and processes. </p> <p>Currently, only PDF, HTML, and DOCX file formats are supported for ingestion.</p> <p>Below is a high-level, logical architecture of the environment you will deploy in this section.</p> <p></p> <p>To prepare for document ingestion, you can also reference the setup instructions that are located here.</p>"},{"location":"Setup/zassist/#install-the-zassist-utility","title":"Install the zassist utility","text":"<p>The zassist utility is an executable program that automates the ingestion of client documentation into the RAG for watsonx Assistant for Z. A version of zassist is available for download for IBMers and Business Partners for conducting pilots. Follow the steps below to download and install zassist.</p> <p>How do clients get the zassist utility?</p> <p>The utility is available to clients through IBM Passport Advantage.</p> <ol> <li> <p>Click the following link and download the zassist.zip file.</p> <p>https://ibm.box.com/s/j3nt5iw4fqd5w2jgcqwxnjlsu8bpvl77</p> <p></p> </li> <li> <p>Extract the zassist.zip file.</p> </li> <li> <p>Locate the appropriate file for your local workstation's operating system.</p> <p></p> </li> <li> <p>Either copy the appropriate zassist file to a directory in your PATH, or add the appropriate directory to your PATH environment variable.</p> <p>Additional information for running the preceding tasks can be found here.</p> </li> <li> <p>Run the zassist command to verify it is working.</p> <pre><code>zassist\n</code></pre> <p></p> Mac/OS users may need to adjust security settings. <p>The zassist binary may cause a security exception. Adjust the security settings by opening the System Settings utility and clicking Privacy &amp; Security. Under Security locate the message about the zassist binary and click Allow Anyway. Return to the terminal window and try running teh command again.</p> </li> </ol>"},{"location":"Setup/zassist/#ingest-client-documentation-using-zassist","title":"Ingest client documentation using zassist","text":"<p>With the zassist command installed, you are now able to begin ingesting data. </p> <p>Step-by-step guidance for ingesting documents using zassist is provided in the IBM watsonx Assistant for Z documentation.</p> <ol> <li> <p>Download the <code>BYOD.zip</code> file.</p> <p>BYOD.zip</p> <p>Whats in the sample client documentation?</p> <p>Three sample documents are included:</p> <ul> <li> <p>Mainframe_COBOL_Error_Codes.pdf</p> <p>This is a document containing company-specific mainframe COBOL error codes for their application. Developers within the organization typically review this document to quickly diagnose issues based on the application error codes returned.</p> </li> <li> <p>Mainframe_Operational_Incidents_Log.pdf</p> <p>This document is leveraged by the organization\u2019s operational support team and contains historical records of production-level incidents that occurred. For each incident, there\u2019s a record of what the incident was, the date, how it was resolved and who was involved in resolving the incident. </p> </li> <li> <p>COBOL-CICS-to-Java-Internal-Framework.pdf</p> <p>This document is leveraged by the development team and contains details about the organization\u2019s internal framework for developing applications consisting of legacy COBOL CICS interoperating with new Java code. Within the document contains company-specific coding practices and code syntax that the developers frequently reference.</p> </li> </ul> </li> <li> <p>Unzip or extract the <code>BYOD.zip</code> file.</p> </li> <li>Change to the <code>BYOD</code> directory.</li> <li> <p>Using the zassist product documentation, ingest and load all the files in the dev and ops directories from the extracted <code>BYOD.zip</code> file.</p> <p>Follow all the directions here (including the optional steps) to ingest documents using zassist. The steps are not repeated in this lab guide so that you get a first hand experience using the product documentation. You will need to adjust the commands to use the extracted <code>dev</code> and <code>ops</code> directories.</p> <p>The following video illustrates the steps to ingest a single document. </p> <p>Note: The video has no audio.</p> <p></p> Don't see the video in the PDF version of the lab guide? <p>If you are viewing the PDF of the lab guide, you can access the video here.</p> </li> </ol>"},{"location":"Setup/zassist/#verify-the-documents-were-ingested","title":"Verify the documents were ingested","text":"<p>Use the watsonx Orchestrate AI assistant builder to verify your document ingestion.</p> <ol> <li> <p>Enter the following prompt in your assistant and record the response (cut and paste into a text file on your local machine).</p> <pre><code>The customer application is failing with ERR-CBL-001, what does this internal error mean?\n</code></pre> <p></p> </li> <li> <p>Click the Down arrow to view the citations for the response.</p> <p></p> </li> <li> <p>Click View source for the Mainframe_COBOL_Error_Codes-... citation.</p> <p></p> <p>Take note of the order of the response citations!</p> </li> <li> <p>Accept the security risk to view the source document for any ingested document cited.</p> <p>The steps to accept the security risk for the document are not shown as it will vary by the browser you are using. The risk occurs because the certificate for the connection to the SNO instance is not secure. Notice that the URL contains the path to your SNO instance route.</p> <p></p> </li> <li> <p>Repeat the steps above for the following prompts in your assistant and record the responses (cut and paste into a text file on your local machine).</p> <pre><code>Are there any production incidents that were resolved in relation to Data corruption in the production database. If yes who can I collaborate with to resolve a similar issue today and what are their names?\n</code></pre> <pre><code>What specific syntax changes do I need to make in COBOL to call Java using the internal framework? Please provide a detailed explanation. \n</code></pre> <pre><code>What is the internal git lab link to execute the Java on z/OS pipeline?\n</code></pre> </li> </ol>"},{"location":"Setup/zassist/#adjusting-the-search-behavior","title":"Adjusting the search behavior","text":"<p>Do you recall the Metadata field when you configured your assistant?</p> <p></p> <p>The Metadata field provides a way to adjust your assistant\u2019s behavior during conversational search for your OpenSearch instance. Now that you have your own docs that are ingested for conversational search, you can set the metadata field for your assistant to use those documents in its content-grounded search. If you leave the metadata field empty, then it defaults to settings found to perform well but may not use the ingested documents as part of the search results.</p> <p>If you leave the Metadata field empty, OpenSearch will rely on the default settings, which means OpenSearch will search all of the default IBM-provided documentation and all of the ingested customer documentation using the following value:</p> <pre><code>{\"ibm_indices\":\"*_ibm_docs_slate,*_ibm_redbooks_slate\",\n\u201ccustomer_indices\u201d:\u201ccustomer_*\u201d}\n</code></pre> <p>Replacing the wildcard string with an explicit list of indices allows for personalization. The metadata setting is where you can input specific indices (pointing to the underlying documentation) that you want your assistant to use for the content-grounded search. There are over 220 products and topics that the OpenSearch instance has IBM Documentation for. You can find those indices and products here.</p> <p>You can input a subset of indices into the \u201cMetadata\u201d field in cases where you only want your assistant to gather context for specific IBM products or topics. The specific indices can be listed out in this format:</p> <pre><code>{\u201cibm_indices\u201d:\u201c&lt;comma separated index values&gt;\u201d,\u201ccustomer_indices\u201d:\u201ccustomer_*\u201d}\n</code></pre> <p>For example, if you only want your assistant to reference documentation for \u201cDb2 Analytics Accelerator for z/OS\u201d and no ingested client documentation, you can enter the following into the metadata field:</p> <pre><code>{\u201cibm_indices\u201d:\u201css4lq8_ibm_docs_slate\u201d}\n</code></pre> <p>If you have a mix of IBM Documentation and client documentation ingested, then there\u2019s an optional search string that you can use to set the \u201cweights\u201d used for each. </p> <p>For example:</p> <p></p><pre><code>{\"doc_weight\":\n{\"product_docs\":0.5,\n\"customer_docs\":0.5},\n\"ibm_indices\":\"*_ibm_docs_slate,*_ibm_redbooks_slate\",\n\"standardize\":true,\n\"customer_indices\":\"customer_*\"\n}\n</code></pre> In this case, \u201cproduct_docs\u201d is the weight that is assigned to \u201cibm_indices\u201d and \u201ccustomer_docs\u201d is the weight that is assigned to \u201ccustomer_indices\u201d. For more information on customizing the metadata field for conversational search, refer to this supplemental video found here. <ol> <li> <p>Set the (a) Metadata field for your BYOS custom search instance to the following value, click (b) Save, and then click (c) Close. Notice the weight for customer_docs is heavier than the weight for product_docs.</p> <pre><code>{\"doc_weight\":\n{\"product_docs\":0.2,\n\"customer_docs\":0.8},\n\"ibm_indices\":\"*_ibm_docs_slate,*_ibm_redbooks_slate\",\n\"standardize\":true,\n\"customer_indices\":\"customer_*\"\n}\n</code></pre> <p></p> </li> <li> <p>Hover over the Home () icon and click Preview.</p> </li> <li> <p>Click the Restart conversation () icon.</p> <p></p> </li> <li> <p>Repeat the queries four queries run earlier and record the results and the order of the response citations.</p> </li> </ol> <p>Compare the two sets of results. Notice how the answers changed based upon the weighting of the ingested documents versus the IBM product documentation. Were the ingested documents always the first document cited? If not, why do you think that is? </p> <p>Before proceeding spend more time trying different settings for the metadata field and other configuration settings for your customer service instance.</p> <p>For client pilots</p> <p>If you or your client have other documents to ingest, you can do so by repeating the steps using zassist. The Velocity Pilot ITZ environment is limited in compute and storage capacity. The following limits should be adhered to:</p> <ul> <li> <p>Loading documents can take a long time, especially with &gt; 100 MB of text.</p> </li> <li> <p>It is recommended to run large loads late at night.</p> </li> <li> <p>When loading, ensure your workstations does not sleep during the process.</p> </li> <li> <p>If you receive a batch time error, set the batch size to a lower number for that command. For example:</p> <pre><code>zassist ingest . -s 50\n</code></pre> </li> </ul>"}]}